(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const Ko=!1;var Ri=Array.isArray,za=Array.prototype.indexOf,Oa=Array.from,Fa=Object.defineProperty,Ee=Object.getOwnPropertyDescriptor,La=Object.getOwnPropertyDescriptors,qa=Object.prototype,Ba=Array.prototype,Zo=Object.getPrototypeOf,Qi=Object.isExtensible;function Va(t){return t()}function Kr(t){for(var e=0;e<t.length;e++)t[e]()}function Qo(){var t,e,n=new Promise((r,i)=>{t=r,e=i});return{promise:n,resolve:t,reject:e}}const ht=2,Er=4,Sr=8,ue=16,le=32,$e=64,Nr=128,Lt=512,lt=1024,mt=2048,jt=4096,Ut=8192,pe=16384,Ti=32768,Ve=65536,Ji=1<<17,Jo=1<<18,Ke=1<<19,ts=1<<20,mn=32768,Zr=1<<21,$i=1<<22,ve=1<<23,oe=Symbol("$state"),Ya=Symbol("legacy props"),Oe=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Ci(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Xa(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Ha(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ua(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Wa(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Ga(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ja(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ka(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Za(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Qa(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Ja(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const tu=1,eu=2,nu=4,ru=8,iu=16,ou=2,ct=Symbol();function su(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function au(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function es(t){return t===this.v}function uu(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function ns(t){return!uu(t,this.v)}let Ze=!1,lu=!1;function fu(){Ze=!0}let Q=null;function Ye(t){Q=t}function Tn(t,e=!1,n){Q={p:Q,i:!1,c:null,e:null,s:t,x:null,l:Ze&&!e?{s:null,u:null,$:[]}:null}}function $n(t){var e=Q,n=e.e;if(n!==null){e.e=null;for(var r of n)ps(r)}return t!==void 0&&(e.x=t),e.i=!0,Q=e.p,t??{}}function Cn(){return!Ze||Q!==null&&Q.l===null}let Fe=[];function cu(){var t=Fe;Fe=[],Kr(t)}function Pn(t){if(Fe.length===0){var e=Fe;queueMicrotask(()=>{e===Fe&&cu()})}Fe.push(t)}function rs(t){var e=W;if(e===null)return H.f|=ve,t;if((e.f&Ti)===0){if((e.f&Nr)===0)throw t;e.b.error(t)}else Xe(t,e)}function Xe(t,e){for(;e!==null;){if((e.f&Nr)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t}const Bn=new Set;let et=null,Jn=null,At=null,_e=[],Pi=null,Qr=!1;class Xt{committed=!1;current=new Map;previous=new Map;#t=new Set;#e=new Set;#n=0;#r=0;#u=null;#s=[];#a=[];skipped_effects=new Set;is_fork=!1;process(e){_e=[],Jn=null,this.apply();var n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const r of e)this.#i(r,n);this.is_fork||this.#l(),this.#r>0||this.is_fork?(this.#o(n.effects),this.#o(n.render_effects),this.#o(n.block_effects)):(Jn=this,et=null,to(n.render_effects),to(n.effects),Jn=null,this.#u?.resolve()),At=null}#i(e,n){e.f^=lt;for(var r=e.first;r!==null;){var i=r.f,o=(i&(le|$e))!==0,s=o&&(i&lt)!==0,a=s||(i&Ut)!==0||this.skipped_effects.has(r);if((r.f&Nr)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[],block_effects:[]}),!a&&r.fn!==null){o?r.f^=lt:(i&Er)!==0?n.effects.push(r):Qe(r)&&((r.f&ue)!==0&&n.block_effects.push(r),He(r));var u=r.first;if(u!==null){r=u;continue}}var l=r.parent;for(r=r.next;r===null&&l!==null;)l===n.effect&&(this.#o(n.effects),this.#o(n.render_effects),this.#o(n.block_effects),n=n.parent),r=l.next,l=l.parent}}#o(e){for(const n of e)((n.f&mt)!==0?this.#s:this.#a).push(n),ft(n,lt)}capture(e,n){this.previous.has(e)||this.previous.set(e,n),(e.f&ve)===0&&(this.current.set(e,e.v),At?.set(e,e.v))}activate(){et=this,this.apply()}deactivate(){et===this&&(et=null,At=null)}flush(){if(this.activate(),_e.length>0){if(hu(),et!==null&&et!==this)return}else this.#n===0&&this.process([]);this.deactivate()}discard(){for(const e of this.#e)e(this);this.#e.clear()}#l(){if(this.#r===0){for(const e of this.#t)e();this.#t.clear()}this.#n===0&&this.#f()}#f(){if(Bn.size>1){this.previous.clear();var e=At,n=!0,r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const i of Bn){if(i===this){n=!1;continue}const o=[];for(const[a,u]of this.current){if(i.current.has(a))if(n&&u!==i.current.get(a))i.current.set(a,u);else continue;o.push(a)}if(o.length===0)continue;const s=[...i.current.keys()].filter(a=>!this.current.has(a));if(s.length>0){const a=new Set,u=new Map;for(const l of o)is(l,s,a,u);if(_e.length>0){et=i,i.apply();for(const l of _e)i.#i(l,r);_e=[],i.deactivate()}}}et=null,At=e}this.committed=!0,Bn.delete(this)}increment(e){this.#n+=1,e&&(this.#r+=1)}decrement(e){this.#n-=1,e&&(this.#r-=1),this.revive()}revive(){for(const e of this.#s)ft(e,mt),ke(e);for(const e of this.#a)ft(e,jt),ke(e);this.#s=[],this.#a=[],this.flush()}oncommit(e){this.#t.add(e)}ondiscard(e){this.#e.add(e)}settled(){return(this.#u??=Qo()).promise}static ensure(){if(et===null){const e=et=new Xt;Bn.add(et),Xt.enqueue(()=>{et===e&&e.flush()})}return et}static enqueue(e){Pn(e)}apply(){}}function hu(){var t=Se;Qr=!0;try{var e=0;for(io(!0);_e.length>0;){var n=Xt.ensure();if(e++>1e3){var r,i;du()}n.process(_e),ge.clear()}}finally{Qr=!1,io(t),Pi=null}}function du(){try{Ga()}catch(t){Xe(t,Pi)}}let ee=null;function to(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if((r.f&(pe|Ut))===0&&Qe(r)&&(ee=new Set,He(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?bs(r):r.fn=null),ee?.size>0)){ge.clear();for(const i of ee){if((i.f&(pe|Ut))!==0)continue;const o=[i];let s=i.parent;for(;s!==null;)ee.has(s)&&(ee.delete(s),o.push(s)),s=s.parent;for(let a=o.length-1;a>=0;a--){const u=o[a];(u.f&(pe|Ut))===0&&He(u)}}ee.clear()}}ee=null}}function is(t,e,n,r){if(!n.has(t)&&(n.add(t),t.reactions!==null))for(const i of t.reactions){const o=i.f;(o&ht)!==0?is(i,e,n,r):(o&($i|ue))!==0&&(o&mt)===0&&os(i,e,r)&&(ft(i,mt),ke(i))}}function os(t,e,n){const r=n.get(t);if(r!==void 0)return r;if(t.deps!==null)for(const i of t.deps){if(e.includes(i))return!0;if((i.f&ht)!==0&&os(i,e,n))return n.set(i,!0),!0}return n.set(t,!1),!1}function ke(t){for(var e=Pi=t;e.parent!==null;){e=e.parent;var n=e.f;if(Qr&&e===W&&(n&ue)!==0&&(n&Jo)===0)return;if((n&($e|le))!==0){if((n&lt)===0)return;e.f^=lt}}_e.push(e)}function _u(t){let e=0,n=In(0),r;return()=>{Rr()&&(m(n),Cr(()=>(e===0&&(r=ot(()=>t(()=>dn(n)))),e+=1,()=>{Pn(()=>{e-=1,e===0&&(r?.(),r=void 0,dn(n))})})))}}var pu=Ve|Ke|Nr;function vu(t,e,n){new gu(t,e,n)}class gu{parent;#t=!1;#e;#n=null;#r;#u;#s;#a=null;#i=null;#o=null;#l=null;#f=null;#d=0;#c=0;#_=!1;#h=null;#w=_u(()=>(this.#h=In(this.#d),()=>{this.#h=null}));constructor(e,n,r){this.#e=e,this.#r=n,this.#u=r,this.parent=W.b,this.#t=!!this.#r.pending,this.#s=gs(()=>{W.b=this;{var i=this.#g();try{this.#a=ne(()=>r(i))}catch(o){this.error(o)}this.#c>0?this.#v():this.#t=!1}return()=>{this.#f?.remove()}},pu)}#y(){try{this.#a=ne(()=>this.#u(this.#e))}catch(e){this.error(e)}this.#t=!1}#b(){const e=this.#r.pending;e&&(this.#i=ne(()=>e(this.#e)),Xt.enqueue(()=>{var n=this.#g();this.#a=this.#p(()=>(Xt.ensure(),ne(()=>this.#u(n)))),this.#c>0?this.#v():(_n(this.#i,()=>{this.#i=null}),this.#t=!1)}))}#g(){var e=this.#e;return this.#t&&(this.#f=yn(),this.#e.before(this.#f),e=this.#f),e}is_pending(){return this.#t||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#r.pending}#p(e){var n=W,r=H,i=Q;Gt(this.#s),pt(this.#s),Ye(this.#s.ctx);try{return e()}catch(o){return rs(o),null}finally{Gt(n),pt(r),Ye(i)}}#v(){const e=this.#r.pending;this.#a!==null&&(this.#l=document.createDocumentFragment(),this.#l.append(this.#f),Ss(this.#a,this.#l)),this.#i===null&&(this.#i=ne(()=>e(this.#e)))}#m(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#m(e);return}this.#c+=e,this.#c===0&&(this.#t=!1,this.#i&&_n(this.#i,()=>{this.#i=null}),this.#l&&(this.#e.before(this.#l),this.#l=null))}update_pending_count(e){this.#m(e),this.#d+=e,this.#h&&wn(this.#h,this.#d)}get_effect_pending(){return this.#w(),m(this.#h)}error(e){var n=this.#r.onerror;let r=this.#r.failed;if(this.#_||!n&&!r)throw e;this.#a&&(kt(this.#a),this.#a=null),this.#i&&(kt(this.#i),this.#i=null),this.#o&&(kt(this.#o),this.#o=null);var i=!1,o=!1;const s=()=>{if(i){au();return}i=!0,o&&Ja(),Xt.ensure(),this.#d=0,this.#o!==null&&_n(this.#o,()=>{this.#o=null}),this.#t=this.has_pending_snippet(),this.#a=this.#p(()=>(this.#_=!1,ne(()=>this.#u(this.#e)))),this.#c>0?this.#v():this.#t=!1};var a=H;try{pt(null),o=!0,n?.(e,s),o=!1}catch(u){Xe(u,this.#s&&this.#s.parent)}finally{pt(a)}r&&Pn(()=>{this.#o=this.#p(()=>{Xt.ensure(),this.#_=!0;try{return ne(()=>{r(this.#e,()=>e,()=>s)})}catch(u){return Xe(u,this.#s.parent),null}finally{this.#_=!1}})})}}function mu(t,e,n,r){const i=Cn()?Ar:ss;if(n.length===0&&t.length===0){r(e.map(i));return}var o=et,s=W,a=wu();function u(){Promise.all(n.map(l=>yu(l))).then(l=>{a();try{r([...e.map(i),...l])}catch(f){(s.f&pe)===0&&Xe(f,s)}o?.deactivate(),sr()}).catch(l=>{Xe(l,s)})}t.length>0?Promise.all(t).then(()=>{a();try{return u()}finally{o?.deactivate(),sr()}}):u()}function wu(){var t=W,e=H,n=Q,r=et;return function(o=!0){Gt(t),pt(e),Ye(n),o&&r?.activate()}}function sr(){Gt(null),pt(null),Ye(null)}function Ar(t){var e=ht|mt,n=H!==null&&(H.f&ht)!==0?H:null;return W!==null&&(W.f|=Ke),{ctx:Q,deps:null,effects:null,equals:es,f:e,fn:t,reactions:null,rv:0,v:ct,wv:0,parent:n??W,ac:null}}function yu(t,e){let n=W;n===null&&Xa();var r=n.b,i=void 0,o=In(ct),s=!H,a=new Map;return $u(()=>{var u=Qo();i=u.promise;try{Promise.resolve(t()).then(u.resolve,u.reject).then(()=>{l===et&&l.committed&&l.deactivate(),sr()})}catch(c){u.reject(c),sr()}var l=et;if(s){var f=!r.is_pending();r.update_pending_count(1),l.increment(f),a.get(l)?.reject(Oe),a.delete(l),a.set(l,u)}const h=(c,d=void 0)=>{if(l.activate(),d)d!==Oe&&(o.f|=ve,wn(o,d));else{(o.f&ve)!==0&&(o.f^=ve),wn(o,c);for(const[v,x]of a){if(a.delete(v),v===l)break;x.reject(Oe)}}s&&(r.update_pending_count(-1),l.decrement(f))};u.promise.then(h,c=>h(null,c||"unknown"))}),Tr(()=>{for(const u of a.values())u.reject(Oe)}),new Promise(u=>{function l(f){function h(){f===i?u(o):l(i)}f.then(h,h)}l(i)})}function ss(t){const e=Ar(t);return e.equals=ns,e}function as(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)kt(e[n])}}function bu(t){for(var e=t.parent;e!==null;){if((e.f&ht)===0)return e;e=e.parent}return null}function Ii(t){var e,n=W;Gt(bu(t));try{t.f&=~mn,as(t),e=Ms(t)}finally{Gt(n)}return e}function us(t){var e=Ii(t);if(t.equals(e)||(t.v=e,t.wv=As()),!Ce)if(At!==null)Rr()&&At.set(t,t.v);else{var n=(t.f&Lt)===0?jt:lt;ft(t,n)}}let Jr=new Set;const ge=new Map;let ls=!1;function In(t,e){var n={f:0,v:t,reactions:null,equals:es,rv:0,wv:0};return n}function ce(t,e){const n=In(t);return Ou(n),n}function J(t,e=!1,n=!0){const r=In(t);return e||(r.equals=ns),Ze&&n&&Q!==null&&Q.l!==null&&(Q.l.s??=[]).push(r),r}function P(t,e,n=!1){H!==null&&(!Ht||(H.f&Ji)!==0)&&Cn()&&(H.f&(ht|ue|$i|Ji))!==0&&!se?.includes(t)&&Qa();let r=n?Le(e):e;return wn(t,r)}function wn(t,e){if(!t.equals(e)){var n=t.v;Ce?ge.set(t,e):ge.set(t,n),t.v=e;var r=Xt.ensure();r.capture(t,n),(t.f&ht)!==0&&((t.f&mt)!==0&&Ii(t),ft(t,(t.f&Lt)!==0?lt:jt)),t.wv=As(),fs(t,mt),Cn()&&W!==null&&(W.f&lt)!==0&&(W.f&(le|$e))===0&&($t===null?Fu([t]):$t.push(t)),!r.is_fork&&Jr.size>0&&!ls&&xu()}return e}function xu(){ls=!1;const t=Array.from(Jr);for(const e of t)(e.f&lt)!==0&&ft(e,jt),Qe(e)&&He(e);Jr.clear()}function dn(t){P(t,t.v+1)}function fs(t,e){var n=t.reactions;if(n!==null)for(var r=Cn(),i=n.length,o=0;o<i;o++){var s=n[o],a=s.f;if(!(!r&&s===W)){var u=(a&mt)===0;if(u&&ft(s,e),(a&ht)!==0){var l=s;At?.delete(l),(a&mn)===0&&(a&Lt&&(s.f|=mn),fs(l,jt))}else u&&((a&ue)!==0&&ee!==null&&ee.add(s),ke(s))}}}function Le(t){if(typeof t!="object"||t===null||oe in t)return t;const e=Zo(t);if(e!==qa&&e!==Ba)return t;var n=new Map,r=Ri(t),i=ce(0),o=Ne,s=a=>{if(Ne===o)return a();var u=H,l=Ne;pt(null),so(o);var f=a();return pt(u),so(l),f};return r&&n.set("length",ce(t.length)),new Proxy(t,{defineProperty(a,u,l){(!("value"in l)||l.configurable===!1||l.enumerable===!1||l.writable===!1)&&Ka();var f=n.get(u);return f===void 0?f=s(()=>{var h=ce(l.value);return n.set(u,h),h}):P(f,l.value,!0),!0},deleteProperty(a,u){var l=n.get(u);if(l===void 0){if(u in a){const f=s(()=>ce(ct));n.set(u,f),dn(i)}}else P(l,ct),dn(i);return!0},get(a,u,l){if(u===oe)return t;var f=n.get(u),h=u in a;if(f===void 0&&(!h||Ee(a,u)?.writable)&&(f=s(()=>{var d=Le(h?a[u]:ct),v=ce(d);return v}),n.set(u,f)),f!==void 0){var c=m(f);return c===ct?void 0:c}return Reflect.get(a,u,l)},getOwnPropertyDescriptor(a,u){var l=Reflect.getOwnPropertyDescriptor(a,u);if(l&&"value"in l){var f=n.get(u);f&&(l.value=m(f))}else if(l===void 0){var h=n.get(u),c=h?.v;if(h!==void 0&&c!==ct)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return l},has(a,u){if(u===oe)return!0;var l=n.get(u),f=l!==void 0&&l.v!==ct||Reflect.has(a,u);if(l!==void 0||W!==null&&(!f||Ee(a,u)?.writable)){l===void 0&&(l=s(()=>{var c=f?Le(a[u]):ct,d=ce(c);return d}),n.set(u,l));var h=m(l);if(h===ct)return!1}return f},set(a,u,l,f){var h=n.get(u),c=u in a;if(r&&u==="length")for(var d=l;d<h.v;d+=1){var v=n.get(d+"");v!==void 0?P(v,ct):d in a&&(v=s(()=>ce(ct)),n.set(d+"",v))}if(h===void 0)(!c||Ee(a,u)?.writable)&&(h=s(()=>ce(void 0)),P(h,Le(l)),n.set(u,h));else{c=h.v!==ct;var x=s(()=>Le(l));P(h,x)}var b=Reflect.getOwnPropertyDescriptor(a,u);if(b?.set&&b.set.call(f,l),!c){if(r&&typeof u=="string"){var w=n.get("length"),y=Number(u);Number.isInteger(y)&&y>=w.v&&P(w,y+1)}dn(i)}return!0},ownKeys(a){m(i);var u=Reflect.ownKeys(a).filter(h=>{var c=n.get(h);return c===void 0||c.v!==ct});for(var[l,f]of n)f.v!==ct&&!(l in a)&&u.push(l);return u},setPrototypeOf(){Za()}})}function eo(t){try{if(t!==null&&typeof t=="object"&&oe in t)return t[oe]}catch{}return t}function Eu(t,e){return Object.is(eo(t),eo(e))}var no,cs,hs,ds;function Su(){if(no===void 0){no=window,cs=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;hs=Ee(e,"firstChild").get,ds=Ee(e,"nextSibling").get,Qi(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Qi(n)&&(n.__t=void 0)}}function yn(t=""){return document.createTextNode(t)}function Ot(t){return hs.call(t)}function kr(t){return ds.call(t)}function F(t,e){return Ot(t)}function Di(t,e=!1){{var n=Ot(t);return n instanceof Comment&&n.data===""?kr(n):n}}function Y(t,e=1,n=!1){let r=t;for(;e--;)r=kr(r);return r}function Nu(){return!1}let ro=!1;function Au(){ro||(ro=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(const e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function Mr(t){var e=H,n=W;pt(null),Gt(null);try{return t()}finally{pt(e),Gt(n)}}function ku(t,e,n,r=n){t.addEventListener(e,()=>Mr(n));const i=t.__on_r;i?t.__on_r=()=>{i(),r(!0)}:t.__on_r=()=>r(!0),Au()}function _s(t){W===null&&(H===null&&Wa(),Ua()),Ce&&Ha()}function Mu(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function Kt(t,e,n,r=!0){var i=W;i!==null&&(i.f&Ut)!==0&&(t|=Ut);var o={ctx:Q,deps:null,nodes_start:null,nodes_end:null,f:t|mt|Lt,first:null,fn:e,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{He(o),o.f|=Ti}catch(u){throw kt(o),u}else e!==null&&ke(o);if(r){var s=o;if(n&&s.deps===null&&s.teardown===null&&s.nodes_start===null&&s.first===s.last&&(s.f&Ke)===0&&(s=s.first,(t&ue)!==0&&(t&Ve)!==0&&s!==null&&(s.f|=Ve)),s!==null&&(s.parent=i,i!==null&&Mu(s,i),H!==null&&(H.f&ht)!==0&&(t&$e)===0)){var a=H;(a.effects??=[]).push(s)}}return o}function Rr(){return H!==null&&!Ht}function Tr(t){const e=Kt(Sr,null,!1);return ft(e,lt),e.teardown=t,e}function ti(t){_s();var e=W.f,n=!H&&(e&le)!==0&&(e&Ti)===0;if(n){var r=Q;(r.e??=[]).push(t)}else return ps(t)}function ps(t){return Kt(Er|ts,t,!1)}function Ru(t){return _s(),Kt(Sr|ts,t,!0)}function Tu(t){Xt.ensure();const e=Kt($e|Ke,t,!0);return(n={})=>new Promise(r=>{n.outro?_n(e,()=>{kt(e),r(void 0)}):(kt(e),r(void 0))})}function vs(t){return Kt(Er,t,!1)}function St(t,e){var n=Q,r={effect:null,ran:!1,deps:t};n.l.$.push(r),r.effect=Cr(()=>{t(),!r.ran&&(r.ran=!0,ot(e))})}function $r(){var t=Q;Cr(()=>{for(var e of t.l.$){e.deps();var n=e.effect;(n.f&lt)!==0&&ft(n,jt),Qe(n)&&He(n),e.ran=!1}})}function $u(t){return Kt($i|Ke,t,!0)}function Cr(t,e=0){return Kt(Sr|e,t,!0)}function Bt(t,e=[],n=[],r=[],i=!1){mu(r,e,n,o=>{Kt(i?Er:Sr,()=>t(...o.map(m)),!0)})}function gs(t,e=0){var n=Kt(ue|e,t,!0);return n}function ne(t,e=!0){return Kt(le|Ke,t,!0,e)}function ms(t){var e=t.teardown;if(e!==null){const n=Ce,r=H;oo(!0),pt(null);try{e.call(null)}finally{oo(n),pt(r)}}}function ws(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const i=n.ac;i!==null&&Mr(()=>{i.abort(Oe)});var r=n.next;(n.f&$e)!==0?n.parent=null:kt(n,e),n=r}}function Cu(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&le)===0&&kt(e),e=n}}function kt(t,e=!0){var n=!1;(e||(t.f&Jo)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(ys(t.nodes_start,t.nodes_end),n=!0),ws(t,e&&!n),ar(t,0),ft(t,pe);var r=t.transitions;if(r!==null)for(const o of r)o.stop();ms(t);var i=t.parent;i!==null&&i.first!==null&&bs(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function ys(t,e){for(;t!==null;){var n=t===e?null:kr(t);t.remove(),t=n}}function bs(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function _n(t,e,n=!0){var r=[];xs(t,r,!0),Pu(r,()=>{n&&kt(t),e&&e()})}function Pu(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var i of t)i.out(r)}else e()}function xs(t,e,n){if((t.f&Ut)===0){if(t.f^=Ut,t.transitions!==null)for(const s of t.transitions)(s.is_global||n)&&e.push(s);for(var r=t.first;r!==null;){var i=r.next,o=(r.f&Ve)!==0||(r.f&le)!==0&&(t.f&ue)!==0;xs(r,e,o?n:!1),r=i}}}function Iu(t){Es(t,!0)}function Es(t,e){if((t.f&Ut)!==0){t.f^=Ut,(t.f&lt)===0&&(ft(t,mt),ke(t));for(var n=t.first;n!==null;){var r=n.next,i=(n.f&Ve)!==0||(n.f&le)!==0;Es(n,i?e:!1),n=r}if(t.transitions!==null)for(const o of t.transitions)(o.is_global||e)&&o.in()}}function Ss(t,e){for(var n=t.nodes_start,r=t.nodes_end;n!==null;){var i=n===r?null:kr(n);e.append(n),n=i}}let De=null;function Du(t){var e=De;try{if(De=new Set,ot(t),e!==null)for(var n of De)e.add(n);return De}finally{De=e}}function zu(t){for(var e of Du(t))wn(e,e.v)}let Se=!1;function io(t){Se=t}let Ce=!1;function oo(t){Ce=t}let H=null,Ht=!1;function pt(t){H=t}let W=null;function Gt(t){W=t}let se=null;function Ou(t){H!==null&&(se===null?se=[t]:se.push(t))}let dt=null,bt=0,$t=null;function Fu(t){$t=t}let Ns=1,bn=0,Ne=bn;function so(t){Ne=t}function As(){return++Ns}function Qe(t){var e=t.f;if((e&mt)!==0)return!0;if(e&ht&&(t.f&=~mn),(e&jt)!==0){var n=t.deps;if(n!==null)for(var r=n.length,i=0;i<r;i++){var o=n[i];if(Qe(o)&&us(o),o.wv>t.wv)return!0}(e&Lt)!==0&&At===null&&ft(t,lt)}return!1}function ks(t,e,n=!0){var r=t.reactions;if(r!==null&&!se?.includes(t))for(var i=0;i<r.length;i++){var o=r[i];(o.f&ht)!==0?ks(o,e,!1):e===o&&(n?ft(o,mt):(o.f&lt)!==0&&ft(o,jt),ke(o))}}function Ms(t){var e=dt,n=bt,r=$t,i=H,o=se,s=Q,a=Ht,u=Ne,l=t.f;dt=null,bt=0,$t=null,H=(l&(le|$e))===0?t:null,se=null,Ye(t.ctx),Ht=!1,Ne=++bn,t.ac!==null&&(Mr(()=>{t.ac.abort(Oe)}),t.ac=null);try{t.f|=Zr;var f=t.fn,h=f(),c=t.deps;if(dt!==null){var d;if(ar(t,bt),c!==null&&bt>0)for(c.length=bt+dt.length,d=0;d<dt.length;d++)c[bt+d]=dt[d];else t.deps=c=dt;if(Se&&Rr()&&(t.f&Lt)!==0)for(d=bt;d<c.length;d++)(c[d].reactions??=[]).push(t)}else c!==null&&bt<c.length&&(ar(t,bt),c.length=bt);if(Cn()&&$t!==null&&!Ht&&c!==null&&(t.f&(ht|jt|mt))===0)for(d=0;d<$t.length;d++)ks($t[d],t);return i!==null&&i!==t&&(bn++,$t!==null&&(r===null?r=$t:r.push(...$t))),(t.f&ve)!==0&&(t.f^=ve),h}catch(v){return rs(v)}finally{t.f^=Zr,dt=e,bt=n,$t=r,H=i,se=o,Ye(s),Ht=a,Ne=u}}function Lu(t,e){let n=e.reactions;if(n!==null){var r=za.call(n,t);if(r!==-1){var i=n.length-1;i===0?n=e.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(e.f&ht)!==0&&(dt===null||!dt.includes(e))&&(ft(e,jt),(e.f&Lt)!==0&&(e.f^=Lt,e.f&=~mn),as(e),ar(e,0))}function ar(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)Lu(t,n[r])}function He(t){var e=t.f;if((e&pe)===0){ft(t,lt);var n=W,r=Se;W=t,Se=!0;try{(e&ue)!==0?Cu(t):ws(t),ms(t);var i=Ms(t);t.teardown=typeof i=="function"?i:null,t.wv=Ns;var o;Ko&&lu&&(t.f&mt)!==0&&t.deps}finally{Se=r,W=n}}}function m(t){var e=t.f,n=(e&ht)!==0;if(De?.add(t),H!==null&&!Ht){var r=W!==null&&(W.f&pe)!==0;if(!r&&!se?.includes(t)){var i=H.deps;if((H.f&Zr)!==0)t.rv<bn&&(t.rv=bn,dt===null&&i!==null&&i[bt]===t?bt++:dt===null?dt=[t]:dt.includes(t)||dt.push(t));else{(H.deps??=[]).push(t);var o=t.reactions;o===null?t.reactions=[H]:o.includes(H)||o.push(H)}}}if(Ce){if(ge.has(t))return ge.get(t);if(n){var s=t,a=s.v;return((s.f&lt)===0&&s.reactions!==null||Ts(s))&&(a=Ii(s)),ge.set(s,a),a}}else if(n){if(s=t,At?.has(s))return At.get(s);Qe(s)&&us(s),Se&&Rr()&&(s.f&Lt)===0&&Rs(s)}else if(At?.has(t))return At.get(t);if((t.f&ve)!==0)throw t.v;return t.v}function Rs(t){if(t.deps!==null){t.f^=Lt;for(const e of t.deps)(e.reactions??=[]).push(t),(e.f&ht)!==0&&(e.f&Lt)===0&&Rs(e)}}function Ts(t){if(t.v===ct)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(ge.has(e)||(e.f&ht)!==0&&Ts(e))return!0;return!1}function ot(t){var e=Ht;try{return Ht=!0,t()}finally{Ht=e}}const qu=-7169;function ft(t,e){t.f=t.f&qu|e}function G(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(oe in t)ei(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&oe in n&&ei(n)}}}function ei(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let r in t)try{ei(t[r],e)}catch{}const n=Zo(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=La(n);for(let i in r){const o=r[i].get;if(o)try{o.call(t)}catch{}}}}}const Bu=["touchstart","touchmove"];function Vu(t){return Bu.includes(t)}const Yu=new Set,ao=new Set;function Xu(t,e,n,r={}){function i(o){if(r.capture||rn.call(e,o),!o.cancelBubble)return Mr(()=>n?.call(this,o))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Pn(()=>{e.addEventListener(t,i,r)}):e.addEventListener(t,i,r),i}function ni(t,e,n,r,i){var o={capture:r,passive:i},s=Xu(t,e,n,o);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Tr(()=>{e.removeEventListener(t,s,o)})}let uo=null;function rn(t){var e=this,n=e.ownerDocument,r=t.type,i=t.composedPath?.()||[],o=i[0]||t.target;uo=t;var s=0,a=uo===t&&t.__root;if(a){var u=i.indexOf(a);if(u!==-1&&(e===document||e===window)){t.__root=e;return}var l=i.indexOf(e);if(l===-1)return;u<=l&&(s=u)}if(o=i[s]||t.target,o!==e){Fa(t,"currentTarget",{configurable:!0,get(){return o||n}});var f=H,h=W;pt(null),Gt(null);try{for(var c,d=[];o!==null;){var v=o.assignedSlot||o.parentNode||o.host||null;try{var x=o["__"+r];x!=null&&(!o.disabled||t.target===o)&&x.call(o,t)}catch(b){c?d.push(b):c=b}if(t.cancelBubble||v===e||v===null)break;o=v}if(c){for(let b of d)queueMicrotask(()=>{throw b});throw c}}finally{t.__root=e,delete t.currentTarget,pt(f),Gt(h)}}}function zi(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Pr(t,e){var n=W;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function Zt(t,e){var n=(e&ou)!==0,r,i=!t.startsWith("<!>");return()=>{r===void 0&&(r=zi(i?t:"<!>"+t),r=Ot(r));var o=n||cs?document.importNode(r,!0):r.cloneNode(!0);return Pr(o,o),o}}function Hu(t,e,n="svg"){var r=!t.startsWith("<!>"),i=`<${n}>${r?t:"<!>"+t}</${n}>`,o;return()=>{if(!o){var s=zi(i),a=Ot(s);for(o=document.createDocumentFragment();Ot(a);)o.appendChild(Ot(a))}var u=o.cloneNode(!0);{var l=Ot(u),f=u.lastChild;Pr(l,f)}return u}}function Uu(t,e){return Hu(t,e,"svg")}function $s(){var t=document.createDocumentFragment(),e=document.createComment(""),n=yn();return t.append(e,n),Pr(e,n),t}function xt(t,e){t!==null&&t.before(e)}function _t(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??=t.nodeValue)&&(t.__t=n,t.nodeValue=n+"")}function Wu(t,e){return Gu(t,e)}const Ie=new Map;function Gu(t,{target:e,anchor:n,props:r={},events:i,context:o,intro:s=!0}){Su();var a=new Set,u=h=>{for(var c=0;c<h.length;c++){var d=h[c];if(!a.has(d)){a.add(d);var v=Vu(d);e.addEventListener(d,rn,{passive:v});var x=Ie.get(d);x===void 0?(document.addEventListener(d,rn,{passive:v}),Ie.set(d,1)):Ie.set(d,x+1)}}};u(Oa(Yu)),ao.add(u);var l=void 0,f=Tu(()=>{var h=n??e.appendChild(yn());return vu(h,{pending:()=>{}},c=>{if(o){Tn({});var d=Q;d.c=o}i&&(r.$$events=i),l=t(c,r)||{},o&&$n()}),()=>{for(var c of a){e.removeEventListener(c,rn);var d=Ie.get(c);--d===0?(document.removeEventListener(c,rn),Ie.delete(c)):Ie.set(c,d)}ao.delete(u),h!==n&&h.parentNode?.removeChild(h)}});return ju.set(l,f),l}let ju=new WeakMap;class Ku{anchor;#t=new Map;#e=new Map;#n=new Map;#r=!0;constructor(e,n=!0){this.anchor=e,this.#r=n}#u=()=>{var e=et;if(this.#t.has(e)){var n=this.#t.get(e),r=this.#e.get(n);if(r)Iu(r);else{var i=this.#n.get(n);i&&(this.#e.set(n,i.effect),this.#n.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[o,s]of this.#t){if(this.#t.delete(o),o===e)break;const a=this.#n.get(s);a&&(kt(a.effect),this.#n.delete(s))}for(const[o,s]of this.#e){if(o===n)continue;const a=()=>{if(Array.from(this.#t.values()).includes(o)){var l=document.createDocumentFragment();Ss(s,l),l.append(yn()),this.#n.set(o,{effect:s,fragment:l})}else kt(s);this.#e.delete(o)};this.#r||!r?_n(s,a,!1):a()}}};#s=e=>{this.#t.delete(e);const n=Array.from(this.#t.values());for(const[r,i]of this.#n)n.includes(r)||(kt(i.effect),this.#n.delete(r))};ensure(e,n){var r=et,i=Nu();if(n&&!this.#e.has(e)&&!this.#n.has(e))if(i){var o=document.createDocumentFragment(),s=yn();o.append(s),this.#n.set(e,{effect:ne(()=>n(s)),fragment:o})}else this.#e.set(e,ne(()=>n(this.anchor)));if(this.#t.set(r,e),i){for(const[a,u]of this.#e)a===e?r.skipped_effects.delete(u):r.skipped_effects.add(u);for(const[a,u]of this.#n)a===e?r.skipped_effects.delete(u.effect):r.skipped_effects.add(u.effect);r.oncommit(this.#u),r.ondiscard(this.#s)}else this.#u()}}function ye(t,e,n=!1){var r=new Ku(t),i=n?Ve:0;function o(s,a){r.ensure(s,a)}gs(()=>{var s=!1;e((a,u=!0)=>{s=!0,o(u,a)}),s||o(!1,null)},i)}function Zu(t,e,n=!1,r=!1,i=!1){var o=t,s="";Bt(()=>{var a=W;if(s!==(s=e()??"")&&(a.nodes_start!==null&&(ys(a.nodes_start,a.nodes_end),a.nodes_start=a.nodes_end=null),s!=="")){var u=s+"";n?u=`<svg>${u}</svg>`:r&&(u=`<math>${u}</math>`);var l=zi(u);if((n||r)&&(l=Ot(l)),Pr(Ot(l),l.lastChild),n||r)for(;Ot(l);)o.before(Ot(l));else o.before(l)}})}const lo=[...` 	
\r\fÂ \v\uFEFF`];function Qu(t,e,n){var r=""+t;if(n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var o=i.length,s=0;(s=r.indexOf(i,s))>=0;){var a=s+o;(s===0||lo.includes(r[s-1]))&&(a===r.length||lo.includes(r[a]))?r=(s===0?"":r.substring(0,s))+r.substring(a+1):s=a}}return r===""?null:r}function Ju(t,e){return t==null?null:String(t)}function tl(t,e,n,r,i,o){var s=t.__className;if(s!==n||s===void 0){var a=Qu(n,r,o);a==null?t.removeAttribute("class"):t.className=a,t.__className=n}else if(o&&i!==o)for(var u in o){var l=!!o[u];(i==null||l!==!!i[u])&&t.classList.toggle(u,l)}return o}function ri(t,e,n,r){var i=t.__style;if(i!==e){var o=Ju(e);o==null?t.removeAttribute("style"):t.style.cssText=o,t.__style=e}return r}function Cs(t,e,n=!1){if(t.multiple){if(e==null)return;if(!Ri(e))return su();for(var r of t.options)r.selected=e.includes(pn(r));return}for(r of t.options){var i=pn(r);if(Eu(i,e)){r.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function el(t){var e=new MutationObserver(()=>{Cs(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Tr(()=>{e.disconnect()})}function nl(t,e,n=e){var r=new WeakSet,i=!0;ku(t,"change",o=>{var s=o?"[selected]":":checked",a;if(t.multiple)a=[].map.call(t.querySelectorAll(s),pn);else{var u=t.querySelector(s)??t.querySelector("option:not([disabled])");a=u&&pn(u)}n(a),et!==null&&r.add(et)}),vs(()=>{var o=e();if(t===document.activeElement){var s=Jn??et;if(r.has(s))return}if(Cs(t,o,i),i&&o===void 0){var a=t.querySelector(":checked");a!==null&&(o=pn(a),n(o))}t.__value=o,i=!1}),el(t)}function pn(t){return"__value"in t?t.__value:t.value}function rl(t,e,n){var r=Ee(t,e);r&&r.set&&(t[e]=n,Tr(()=>{t[e]=null}))}function fo(t,e){return t===e||t?.[oe]===e}function il(t={},e,n,r){return vs(()=>{var i,o;return Cr(()=>{i=o,o=[],ot(()=>{t!==n(...o)&&(e(t,...o),i&&fo(n(...i),t)&&e(null,...i))})}),()=>{Pn(()=>{o&&fo(n(...o),t)&&e(null,...o)})}}),t}function Oi(t=!1){const e=Q,n=e.l.u;if(!n)return;let r=()=>G(e.s);if(t){let i=0,o={};const s=Ar(()=>{let a=!1;const u=e.s;for(const l in u)u[l]!==o[l]&&(o[l]=u[l],a=!0);return a&&i++,i});r=()=>m(s)}n.b.length&&Ru(()=>{co(e,r),Kr(n.b)}),ti(()=>{const i=ot(()=>n.m.map(Va));return()=>{for(const o of i)typeof o=="function"&&o()}}),n.a.length&&ti(()=>{co(e,r),Kr(n.a)})}function co(t,e){if(t.l.s)for(const n of t.l.s)m(n);e()}let Vn=!1;function ol(t){var e=Vn;try{return Vn=!1,[t(),Vn]}finally{Vn=e}}function ut(t,e,n,r){var i=!Ze||(n&eu)!==0,o=(n&ru)!==0,s=(n&iu)!==0,a=r,u=!0,l=()=>(u&&(u=!1,a=s?ot(r):r),a),f;if(o){var h=oe in t||Ya in t;f=Ee(t,e)?.set??(h&&e in t?S=>t[e]=S:void 0)}var c,d=!1;o?[c,d]=ol(()=>t[e]):c=t[e],c===void 0&&r!==void 0&&(c=l(),f&&(i&&ja(),f(c)));var v;if(i?v=()=>{var S=t[e];return S===void 0?l():(u=!0,S)}:v=()=>{var S=t[e];return S!==void 0&&(a=void 0),S===void 0?a:S},i&&(n&nu)===0)return v;if(f){var x=t.$$legacy;return(function(S,A){return arguments.length>0?((!i||!A||x||d)&&f(A?v():S),S):v()})}var b=!1,w=((n&tu)!==0?Ar:ss)(()=>(b=!1,v()));o&&m(w);var y=W;return(function(S,A){if(arguments.length>0){const E=A?m(w):i&&o?Le(S):S;return P(w,E),b=!0,a!==void 0&&(a=E),S}return Ce&&b||(y.f&pe)!==0?w.v:m(w)})}function Fi(t){Q===null&&Ci(),Ze&&Q.l!==null?ul(Q).m.push(t):ti(()=>{const e=ot(t);if(typeof e=="function")return e})}function sl(t){Q===null&&Ci(),Fi(()=>()=>ot(t))}function al(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}function Ps(){const t=Q;return t===null&&Ci(),(e,n,r)=>{const i=t.s.$$events?.[e];if(i){const o=Ri(i)?i.slice():[i],s=al(e,n,r);for(const a of o)a.call(t.x,s);return!s.defaultPrevented}return!0}}function ul(t){var e=t.l;return e.u??={a:[],b:[],m:[]}}const ll="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(ll);fu();class Me{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],s=e+o,a=Math.abs(e)<Math.abs(o)?e-(s-o):o-(s-e);a&&(n[r++]=a),e=s}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,o,s=0;if(n>0){for(s=e[--n];n>0&&(r=s,i=e[--n],s=r+i,o=i-(s-r),!o););n>0&&(o<0&&e[n-1]<0||o>0&&e[n-1]>0)&&(i=o*2,r=s+i,i==r-s&&(s=r))}return s}}function*fl(t){for(const e of t)yield*e}function Is(t){return Array.from(fl(t))}var cl={value:()=>{}};function Li(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new tr(n)}function tr(t){this._=t}function hl(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}tr.prototype=Li.prototype={constructor:tr,on:function(t,e){var n=this._,r=hl(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=dl(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=ho(n[i],t.name,e);else if(e==null)for(i in n)n[i]=ho(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new tr(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function dl(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function ho(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=cl,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var ii="http://www.w3.org/1999/xhtml";const _o={svg:"http://www.w3.org/2000/svg",xhtml:ii,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ir(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),_o.hasOwnProperty(e)?{space:_o[e],local:t}:t}function _l(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ii&&e.documentElement.namespaceURI===ii?e.createElement(t):e.createElementNS(n,t)}}function pl(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ds(t){var e=Ir(t);return(e.local?pl:_l)(e)}function vl(){}function qi(t){return t==null?vl:function(){return this.querySelector(t)}}function gl(t){typeof t!="function"&&(t=qi(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=new Array(s),u,l,f=0;f<s;++f)(u=o[f])&&(l=t.call(u,u.__data__,f,o))&&("__data__"in u&&(l.__data__=u.__data__),a[f]=l);return new Rt(r,this._parents)}function ml(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function wl(){return[]}function zs(t){return t==null?wl:function(){return this.querySelectorAll(t)}}function yl(t){return function(){return ml(t.apply(this,arguments))}}function bl(t){typeof t=="function"?t=yl(t):t=zs(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],a=s.length,u,l=0;l<a;++l)(u=s[l])&&(r.push(t.call(u,u.__data__,l,s)),i.push(u));return new Rt(r,i)}function Os(t){return function(){return this.matches(t)}}function Fs(t){return function(e){return e.matches(t)}}var xl=Array.prototype.find;function El(t){return function(){return xl.call(this.children,t)}}function Sl(){return this.firstElementChild}function Nl(t){return this.select(t==null?Sl:El(typeof t=="function"?t:Fs(t)))}var Al=Array.prototype.filter;function kl(){return Array.from(this.children)}function Ml(t){return function(){return Al.call(this.children,t)}}function Rl(t){return this.selectAll(t==null?kl:Ml(typeof t=="function"?t:Fs(t)))}function Tl(t){typeof t!="function"&&(t=Os(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],u,l=0;l<s;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&a.push(u);return new Rt(r,this._parents)}function Ls(t){return new Array(t.length)}function $l(){return new Rt(this._enter||this._groups.map(Ls),this._parents)}function ur(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ur.prototype={constructor:ur,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Cl(t){return function(){return t}}function Pl(t,e,n,r,i,o){for(var s=0,a,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new ur(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function Il(t,e,n,r,i,o,s){var a,u,l=new Map,f=e.length,h=o.length,c=new Array(f),d;for(a=0;a<f;++a)(u=e[a])&&(c[a]=d=s.call(u,u.__data__,a,e)+"",l.has(d)?i[a]=u:l.set(d,u));for(a=0;a<h;++a)d=s.call(t,o[a],a,o)+"",(u=l.get(d))?(r[a]=u,u.__data__=o[a],l.delete(d)):n[a]=new ur(t,o[a]);for(a=0;a<f;++a)(u=e[a])&&l.get(c[a])===u&&(i[a]=u)}function Dl(t){return t.__data__}function zl(t,e){if(!arguments.length)return Array.from(this,Dl);var n=e?Il:Pl,r=this._parents,i=this._groups;typeof t!="function"&&(t=Cl(t));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),l=0;l<o;++l){var f=r[l],h=i[l],c=h.length,d=Ol(t.call(f,f&&f.__data__,l,r)),v=d.length,x=a[l]=new Array(v),b=s[l]=new Array(v),w=u[l]=new Array(c);n(f,h,x,b,w,d,e);for(var y=0,S=0,A,E;y<v;++y)if(A=x[y]){for(y>=S&&(S=y+1);!(E=b[S])&&++S<v;);A._next=E||null}}return s=new Rt(s,r),s._enter=a,s._exit=u,s}function Ol(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Fl(){return new Rt(this._exit||this._groups.map(Ls),this._parents)}function Ll(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function ql(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),u=0;u<s;++u)for(var l=n[u],f=r[u],h=l.length,c=a[u]=new Array(h),d,v=0;v<h;++v)(d=l[v]||f[v])&&(c[v]=d);for(;u<i;++u)a[u]=n[u];return new Rt(a,this._parents)}function Bl(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Vl(t){t||(t=Yl);function e(h,c){return h&&c?t(h.__data__,c.__data__):!h-!c}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,u=i[o]=new Array(a),l,f=0;f<a;++f)(l=s[f])&&(u[f]=l);u.sort(e)}return new Rt(i,this._parents).order()}function Yl(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Xl(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Hl(){return Array.from(this)}function Ul(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function Wl(){let t=0;for(const e of this)++t;return t}function Gl(){return!this.node()}function jl(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function Kl(t){return function(){this.removeAttribute(t)}}function Zl(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ql(t,e){return function(){this.setAttribute(t,e)}}function Jl(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function tf(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function ef(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function nf(t,e){var n=Ir(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Zl:Kl:typeof e=="function"?n.local?ef:tf:n.local?Jl:Ql)(n,e))}function qs(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function rf(t){return function(){this.style.removeProperty(t)}}function of(t,e,n){return function(){this.style.setProperty(t,e,n)}}function sf(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function af(t,e,n){return arguments.length>1?this.each((e==null?rf:typeof e=="function"?sf:of)(t,e,n??"")):Ue(this.node(),t)}function Ue(t,e){return t.style.getPropertyValue(e)||qs(t).getComputedStyle(t,null).getPropertyValue(e)}function uf(t){return function(){delete this[t]}}function lf(t,e){return function(){this[t]=e}}function ff(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function cf(t,e){return arguments.length>1?this.each((e==null?uf:typeof e=="function"?ff:lf)(t,e)):this.node()[t]}function Bs(t){return t.trim().split(/^|\s+/)}function Bi(t){return t.classList||new Vs(t)}function Vs(t){this._node=t,this._names=Bs(t.getAttribute("class")||"")}Vs.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Ys(t,e){for(var n=Bi(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Xs(t,e){for(var n=Bi(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function hf(t){return function(){Ys(this,t)}}function df(t){return function(){Xs(this,t)}}function _f(t,e){return function(){(e.apply(this,arguments)?Ys:Xs)(this,t)}}function pf(t,e){var n=Bs(t+"");if(arguments.length<2){for(var r=Bi(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?_f:e?hf:df)(n,e))}function vf(){this.textContent=""}function gf(t){return function(){this.textContent=t}}function mf(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function wf(t){return arguments.length?this.each(t==null?vf:(typeof t=="function"?mf:gf)(t)):this.node().textContent}function yf(){this.innerHTML=""}function bf(t){return function(){this.innerHTML=t}}function xf(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Ef(t){return arguments.length?this.each(t==null?yf:(typeof t=="function"?xf:bf)(t)):this.node().innerHTML}function Sf(){this.nextSibling&&this.parentNode.appendChild(this)}function Nf(){return this.each(Sf)}function Af(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function kf(){return this.each(Af)}function Mf(t){var e=typeof t=="function"?t:Ds(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Rf(){return null}function Tf(t,e){var n=typeof t=="function"?t:Ds(t),r=e==null?Rf:typeof e=="function"?e:qi(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function $f(){var t=this.parentNode;t&&t.removeChild(this)}function Cf(){return this.each($f)}function Pf(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function If(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Df(t){return this.select(t?If:Pf)}function zf(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Of(t){return function(e){t.call(this,e,this.__data__)}}function Ff(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Lf(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function qf(t,e,n){return function(){var r=this.__on,i,o=Of(e);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Bf(t,e,n){var r=Ff(t+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,l=a.length,f;u<l;++u)for(i=0,f=a[u];i<o;++i)if((s=r[i]).type===f.type&&s.name===f.name)return f.value}return}for(a=e?qf:Lf,i=0;i<o;++i)this.each(a(r[i],e,n));return this}function Hs(t,e,n){var r=qs(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Vf(t,e){return function(){return Hs(this,t,e)}}function Yf(t,e){return function(){return Hs(this,t,e.apply(this,arguments))}}function Xf(t,e){return this.each((typeof e=="function"?Yf:Vf)(t,e))}function*Hf(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var Us=[null];function Rt(t,e){this._groups=t,this._parents=e}function Dn(){return new Rt([[document.documentElement]],Us)}function Uf(){return this}Rt.prototype=Dn.prototype={constructor:Rt,select:gl,selectAll:bl,selectChild:Nl,selectChildren:Rl,filter:Tl,data:zl,enter:$l,exit:Fl,join:Ll,merge:ql,selection:Uf,order:Bl,sort:Vl,call:Xl,nodes:Hl,node:Ul,size:Wl,empty:Gl,each:jl,attr:nf,style:af,property:cf,classed:pf,text:wf,html:Ef,raise:Nf,lower:kf,append:Mf,insert:Tf,remove:Cf,clone:Df,datum:zf,on:Bf,dispatch:Xf,[Symbol.iterator]:Hf};function Nt(t){return typeof t=="string"?new Rt([[document.querySelector(t)]],[document.documentElement]):new Rt([[t]],Us)}function Wf(t){let e;for(;e=t.sourceEvent;)t=e;return t}function we(t,e){if(t=Wf(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const oi={capture:!0,passive:!1};function si(t){t.preventDefault(),t.stopImmediatePropagation()}function Gf(t){var e=t.document.documentElement,n=Nt(t).on("dragstart.drag",si,oi);"onselectstart"in e?n.on("selectstart.drag",si,oi):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function jf(t,e){var n=t.document.documentElement,r=Nt(t).on("dragstart.drag",null);e&&(r.on("click.drag",si,oi),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Vi(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ws(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function zn(){}var xn=.7,lr=1/xn,Be="\\s*([+-]?\\d+)\\s*",En="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Kf=/^#([0-9a-f]{3,8})$/,Zf=new RegExp(`^rgb\\(${Be},${Be},${Be}\\)$`),Qf=new RegExp(`^rgb\\(${Wt},${Wt},${Wt}\\)$`),Jf=new RegExp(`^rgba\\(${Be},${Be},${Be},${En}\\)$`),tc=new RegExp(`^rgba\\(${Wt},${Wt},${Wt},${En}\\)$`),ec=new RegExp(`^hsl\\(${En},${Wt},${Wt}\\)$`),nc=new RegExp(`^hsla\\(${En},${Wt},${Wt},${En}\\)$`),po={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Vi(zn,Sn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vo,formatHex:vo,formatHex8:rc,formatHsl:ic,formatRgb:go,toString:go});function vo(){return this.rgb().formatHex()}function rc(){return this.rgb().formatHex8()}function ic(){return Gs(this).formatHsl()}function go(){return this.rgb().formatRgb()}function Sn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Kf.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?mo(e):n===3?new vt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Yn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Yn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Zf.exec(t))?new vt(e[1],e[2],e[3],1):(e=Qf.exec(t))?new vt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Jf.exec(t))?Yn(e[1],e[2],e[3],e[4]):(e=tc.exec(t))?Yn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ec.exec(t))?bo(e[1],e[2]/100,e[3]/100,1):(e=nc.exec(t))?bo(e[1],e[2]/100,e[3]/100,e[4]):po.hasOwnProperty(t)?mo(po[t]):t==="transparent"?new vt(NaN,NaN,NaN,0):null}function mo(t){return new vt(t>>16&255,t>>8&255,t&255,1)}function Yn(t,e,n,r){return r<=0&&(t=e=n=NaN),new vt(t,e,n,r)}function oc(t){return t instanceof zn||(t=Sn(t)),t?(t=t.rgb(),new vt(t.r,t.g,t.b,t.opacity)):new vt}function ai(t,e,n,r){return arguments.length===1?oc(t):new vt(t,e,n,r??1)}function vt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Vi(vt,ai,Ws(zn,{brighter(t){return t=t==null?lr:Math.pow(lr,t),new vt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?xn:Math.pow(xn,t),new vt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vt(Ae(this.r),Ae(this.g),Ae(this.b),fr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wo,formatHex:wo,formatHex8:sc,formatRgb:yo,toString:yo}));function wo(){return`#${xe(this.r)}${xe(this.g)}${xe(this.b)}`}function sc(){return`#${xe(this.r)}${xe(this.g)}${xe(this.b)}${xe((isNaN(this.opacity)?1:this.opacity)*255)}`}function yo(){const t=fr(this.opacity);return`${t===1?"rgb(":"rgba("}${Ae(this.r)}, ${Ae(this.g)}, ${Ae(this.b)}${t===1?")":`, ${t})`}`}function fr(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ae(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function xe(t){return t=Ae(t),(t<16?"0":"")+t.toString(16)}function bo(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new zt(t,e,n,r)}function Gs(t){if(t instanceof zt)return new zt(t.h,t.s,t.l,t.opacity);if(t instanceof zn||(t=Sn(t)),!t)return new zt;if(t instanceof zt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,u=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new zt(s,a,u,t.opacity)}function ac(t,e,n,r){return arguments.length===1?Gs(t):new zt(t,e,n,r??1)}function zt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Vi(zt,ac,Ws(zn,{brighter(t){return t=t==null?lr:Math.pow(lr,t),new zt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?xn:Math.pow(xn,t),new zt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new vt(Br(t>=240?t-240:t+120,i,r),Br(t,i,r),Br(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new zt(xo(this.h),Xn(this.s),Xn(this.l),fr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=fr(this.opacity);return`${t===1?"hsl(":"hsla("}${xo(this.h)}, ${Xn(this.s)*100}%, ${Xn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function xo(t){return t=(t||0)%360,t<0?t+360:t}function Xn(t){return Math.max(0,Math.min(1,t||0))}function Br(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const js=t=>()=>t;function uc(t,e){return function(n){return t+n*e}}function lc(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function fc(t){return(t=+t)==1?Ks:function(e,n){return n-e?lc(e,n,t):js(isNaN(e)?n:e)}}function Ks(t,e){var n=e-t;return n?uc(t,n):js(isNaN(t)?e:t)}const Eo=(function t(e){var n=fc(e);function r(i,o){var s=n((i=ai(i)).r,(o=ai(o)).r),a=n(i.g,o.g),u=n(i.b,o.b),l=Ks(i.opacity,o.opacity);return function(f){return i.r=s(f),i.g=a(f),i.b=u(f),i.opacity=l(f),i+""}}return r.gamma=t,r})(1);function de(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var ui=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vr=new RegExp(ui.source,"g");function cc(t){return function(){return t}}function hc(t){return function(e){return t(e)+""}}function dc(t,e){var n=ui.lastIndex=Vr.lastIndex=0,r,i,o,s=-1,a=[],u=[];for(t=t+"",e=e+"";(r=ui.exec(t))&&(i=Vr.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:de(r,i)})),n=Vr.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?hc(u[0].x):cc(e):(e=u.length,function(l){for(var f=0,h;f<e;++f)a[(h=u[f]).i]=h.x(l);return a.join("")})}var So=180/Math.PI,li={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Zs(t,e,n,r,i,o){var s,a,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),t*r<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*So,skewX:Math.atan(u)*So,scaleX:s,scaleY:a}}var Hn;function _c(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?li:Zs(e.a,e.b,e.c,e.d,e.e,e.f)}function pc(t){return t==null||(Hn||(Hn=document.createElementNS("http://www.w3.org/2000/svg","g")),Hn.setAttribute("transform",t),!(t=Hn.transform.baseVal.consolidate()))?li:(t=t.matrix,Zs(t.a,t.b,t.c,t.d,t.e,t.f))}function Qs(t,e,n,r){function i(l){return l.length?l.pop()+" ":""}function o(l,f,h,c,d,v){if(l!==h||f!==c){var x=d.push("translate(",null,e,null,n);v.push({i:x-4,x:de(l,h)},{i:x-2,x:de(f,c)})}else(h||c)&&d.push("translate("+h+e+c+n)}function s(l,f,h,c){l!==f?(l-f>180?f+=360:f-l>180&&(l+=360),c.push({i:h.push(i(h)+"rotate(",null,r)-2,x:de(l,f)})):f&&h.push(i(h)+"rotate("+f+r)}function a(l,f,h,c){l!==f?c.push({i:h.push(i(h)+"skewX(",null,r)-2,x:de(l,f)}):f&&h.push(i(h)+"skewX("+f+r)}function u(l,f,h,c,d,v){if(l!==h||f!==c){var x=d.push(i(d)+"scale(",null,",",null,")");v.push({i:x-4,x:de(l,h)},{i:x-2,x:de(f,c)})}else(h!==1||c!==1)&&d.push(i(d)+"scale("+h+","+c+")")}return function(l,f){var h=[],c=[];return l=t(l),f=t(f),o(l.translateX,l.translateY,f.translateX,f.translateY,h,c),s(l.rotate,f.rotate,h,c),a(l.skewX,f.skewX,h,c),u(l.scaleX,l.scaleY,f.scaleX,f.scaleY,h,c),l=f=null,function(d){for(var v=-1,x=c.length,b;++v<x;)h[(b=c[v]).i]=b.x(d);return h.join("")}}}var vc=Qs(_c,"px, ","px)","deg)"),gc=Qs(pc,", ",")",")"),mc=1e-12;function No(t){return((t=Math.exp(t))+1/t)/2}function wc(t){return((t=Math.exp(t))-1/t)/2}function yc(t){return((t=Math.exp(2*t))-1)/(t+1)}const bc=(function t(e,n,r){function i(o,s){var a=o[0],u=o[1],l=o[2],f=s[0],h=s[1],c=s[2],d=f-a,v=h-u,x=d*d+v*v,b,w;if(x<mc)w=Math.log(c/l)/e,b=function(I){return[a+I*d,u+I*v,l*Math.exp(e*I*w)]};else{var y=Math.sqrt(x),S=(c*c-l*l+r*x)/(2*l*n*y),A=(c*c-l*l-r*x)/(2*c*n*y),E=Math.log(Math.sqrt(S*S+1)-S),k=Math.log(Math.sqrt(A*A+1)-A);w=(k-E)/e,b=function(I){var z=I*w,D=No(E),O=l/(n*y)*(D*yc(e*z+E)-wc(E));return[a+O*d,u+O*v,l*D/No(e*z+E)]}}return b.duration=w*1e3*e/Math.SQRT2,b}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,u=a*a;return t(s,a,u)},i})(Math.SQRT2,2,4);var We=0,on=0,en=0,Js=1e3,cr,sn,hr=0,Re=0,Dr=0,Nn=typeof performance=="object"&&performance.now?performance:Date,ta=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Yi(){return Re||(ta(xc),Re=Nn.now()+Dr)}function xc(){Re=0}function dr(){this._call=this._time=this._next=null}dr.prototype=ea.prototype={constructor:dr,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Yi():+n)+(e==null?0:+e),!this._next&&sn!==this&&(sn?sn._next=this:cr=this,sn=this),this._call=t,this._time=n,fi()},stop:function(){this._call&&(this._call=null,this._time=1/0,fi())}};function ea(t,e,n){var r=new dr;return r.restart(t,e,n),r}function Ec(){Yi(),++We;for(var t=cr,e;t;)(e=Re-t._time)>=0&&t._call.call(void 0,e),t=t._next;--We}function Ao(){Re=(hr=Nn.now())+Dr,We=on=0;try{Ec()}finally{We=0,Nc(),Re=0}}function Sc(){var t=Nn.now(),e=t-hr;e>Js&&(Dr-=e,hr=t)}function Nc(){for(var t,e=cr,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:cr=n);sn=t,fi(r)}function fi(t){if(!We){on&&(on=clearTimeout(on));var e=t-Re;e>24?(t<1/0&&(on=setTimeout(Ao,t-Nn.now()-Dr)),en&&(en=clearInterval(en))):(en||(hr=Nn.now(),en=setInterval(Sc,Js)),We=1,ta(Ao))}}function ko(t,e,n){var r=new dr;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Ac=Li("start","end","cancel","interrupt"),kc=[],na=0,Mo=1,ci=2,er=3,Ro=4,hi=5,nr=6;function zr(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Mc(t,n,{name:e,index:r,group:i,on:Ac,tween:kc,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:na})}function Xi(t,e){var n=qt(t,e);if(n.state>na)throw new Error("too late; already scheduled");return n}function Qt(t,e){var n=qt(t,e);if(n.state>er)throw new Error("too late; already running");return n}function qt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Mc(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=ea(o,0,n.time);function o(l){n.state=Mo,n.timer.restart(s,n.delay,n.time),n.delay<=l&&s(l-n.delay)}function s(l){var f,h,c,d;if(n.state!==Mo)return u();for(f in r)if(d=r[f],d.name===n.name){if(d.state===er)return ko(s);d.state===Ro?(d.state=nr,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[f]):+f<e&&(d.state=nr,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[f])}if(ko(function(){n.state===er&&(n.state=Ro,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=ci,n.on.call("start",t,t.__data__,n.index,n.group),n.state===ci){for(n.state=er,i=new Array(c=n.tween.length),f=0,h=-1;f<c;++f)(d=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=d);i.length=h+1}}function a(l){for(var f=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=hi,1),h=-1,c=i.length;++h<c;)i[h].call(t,f);n.state===hi&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=nr,n.timer.stop(),delete r[e];for(var l in r)return;delete t.__transition}}function rr(t,e){var n=t.__transition,r,i,o=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>ci&&r.state<hi,r.state=nr,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function Rc(t){return this.each(function(){rr(this,t)})}function Tc(t,e){var n,r;return function(){var i=Qt(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function $c(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Qt(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=a;break}u===l&&i.push(a)}o.tween=i}}function Cc(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=qt(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?Tc:$c)(n,t,e))}function Hi(t,e,n){var r=t._id;return t.each(function(){var i=Qt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return qt(i,r).value[e]}}function ra(t,e){var n;return(typeof e=="number"?de:e instanceof Sn?Eo:(n=Sn(e))?(e=n,Eo):dc)(t,e)}function Pc(t){return function(){this.removeAttribute(t)}}function Ic(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Dc(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function zc(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function Oc(t,e,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,a)))}}function Fc(t,e,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,a)))}}function Lc(t,e){var n=Ir(t),r=n==="transform"?gc:ra;return this.attrTween(t,typeof e=="function"?(n.local?Fc:Oc)(n,r,Hi(this,"attr."+t,e)):e==null?(n.local?Ic:Pc)(n):(n.local?zc:Dc)(n,r,e))}function qc(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Bc(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Vc(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Bc(t,o)),n}return i._value=e,i}function Yc(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&qc(t,o)),n}return i._value=e,i}function Xc(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Ir(t);return this.tween(n,(r.local?Vc:Yc)(r,e))}function Hc(t,e){return function(){Xi(this,t).delay=+e.apply(this,arguments)}}function Uc(t,e){return e=+e,function(){Xi(this,t).delay=e}}function Wc(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Hc:Uc)(e,t)):qt(this.node(),e).delay}function Gc(t,e){return function(){Qt(this,t).duration=+e.apply(this,arguments)}}function jc(t,e){return e=+e,function(){Qt(this,t).duration=e}}function Kc(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Gc:jc)(e,t)):qt(this.node(),e).duration}function Zc(t,e){if(typeof e!="function")throw new Error;return function(){Qt(this,t).ease=e}}function Qc(t){var e=this._id;return arguments.length?this.each(Zc(e,t)):qt(this.node(),e).ease}function Jc(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Qt(this,t).ease=n}}function th(t){if(typeof t!="function")throw new Error;return this.each(Jc(this._id,t))}function eh(t){typeof t!="function"&&(t=Os(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],u,l=0;l<s;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&a.push(u);return new ae(r,this._parents,this._name,this._id)}function nh(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var u=e[a],l=n[a],f=u.length,h=s[a]=new Array(f),c,d=0;d<f;++d)(c=u[d]||l[d])&&(h[d]=c);for(;a<r;++a)s[a]=e[a];return new ae(s,this._parents,this._name,this._id)}function rh(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function ih(t,e,n){var r,i,o=rh(e)?Xi:Qt;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}function oh(t,e){var n=this._id;return arguments.length<2?qt(this.node(),n).on.on(t):this.each(ih(n,t,e))}function sh(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function ah(){return this.on("end.remove",sh(this._id))}function uh(t){var e=this._name,n=this._id;typeof t!="function"&&(t=qi(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],u=a.length,l=o[s]=new Array(u),f,h,c=0;c<u;++c)(f=a[c])&&(h=t.call(f,f.__data__,c,a))&&("__data__"in f&&(h.__data__=f.__data__),l[c]=h,zr(l[c],e,n,c,l,qt(f,n)));return new ae(o,this._parents,e,n)}function lh(t){var e=this._name,n=this._id;typeof t!="function"&&(t=zs(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var u=r[a],l=u.length,f,h=0;h<l;++h)if(f=u[h]){for(var c=t.call(f,f.__data__,h,u),d,v=qt(f,n),x=0,b=c.length;x<b;++x)(d=c[x])&&zr(d,e,n,x,c,v);o.push(c),s.push(f)}return new ae(o,s,e,n)}var fh=Dn.prototype.constructor;function ch(){return new fh(this._groups,this._parents)}function hh(t,e){var n,r,i;return function(){var o=Ue(this,t),s=(this.style.removeProperty(t),Ue(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function ia(t){return function(){this.style.removeProperty(t)}}function dh(t,e,n){var r,i=n+"",o;return function(){var s=Ue(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function _h(t,e,n){var r,i,o;return function(){var s=Ue(this,t),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(t),Ue(this,t))),s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,a))}}function ph(t,e){var n,r,i,o="style."+e,s="end."+o,a;return function(){var u=Qt(this,t),l=u.on,f=u.value[o]==null?a||(a=ia(e)):void 0;(l!==n||i!==f)&&(r=(n=l).copy()).on(s,i=f),u.on=r}}function vh(t,e,n){var r=(t+="")=="transform"?vc:ra;return e==null?this.styleTween(t,hh(t,r)).on("end.style."+t,ia(t)):typeof e=="function"?this.styleTween(t,_h(t,r,Hi(this,"style."+t,e))).each(ph(this._id,t)):this.styleTween(t,dh(t,r,e),n).on("end.style."+t,null)}function gh(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function mh(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&gh(t,s,n)),r}return o._value=e,o}function wh(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,mh(t,e,n??""))}function yh(t){return function(){this.textContent=t}}function bh(t){return function(){var e=t(this);this.textContent=e??""}}function xh(t){return this.tween("text",typeof t=="function"?bh(Hi(this,"text",t)):yh(t==null?"":t+""))}function Eh(t){return function(e){this.textContent=t.call(this,e)}}function Sh(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Eh(i)),e}return r._value=t,r}function Nh(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Sh(t))}function Ah(){for(var t=this._name,e=this._id,n=oa(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,l=0;l<a;++l)if(u=s[l]){var f=qt(u,e);zr(u,t,n,l,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new ae(r,this._parents,t,n)}function kh(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},u={value:function(){--i===0&&o()}};n.each(function(){var l=Qt(this,r),f=l.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(u)),l.on=e}),i===0&&o()})}var Mh=0;function ae(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function oa(){return++Mh}var te=Dn.prototype;ae.prototype={constructor:ae,select:uh,selectAll:lh,selectChild:te.selectChild,selectChildren:te.selectChildren,filter:eh,merge:nh,selection:ch,transition:Ah,call:te.call,nodes:te.nodes,node:te.node,size:te.size,empty:te.empty,each:te.each,on:oh,attr:Lc,attrTween:Xc,style:vh,styleTween:wh,text:xh,textTween:Nh,remove:ah,tween:Cc,delay:Wc,duration:Kc,ease:Qc,easeVarying:th,end:kh,[Symbol.iterator]:te[Symbol.iterator]};function Rh(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Th={time:null,delay:0,duration:250,ease:Rh};function $h(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Ch(t){var e,n;t instanceof ae?(e=t._id,t=t._name):(e=oa(),(n=Th).time=Yi(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,l=0;l<a;++l)(u=s[l])&&zr(u,t,e,l,s,n||$h(u,e));return new ae(r,this._parents,t,e)}Dn.prototype.interrupt=Rc;Dn.prototype.transition=Ch;var Z=1e-6,X=Math.PI,gt=X/2,To=X/4,Tt=X*2,Et=180/X,st=X/180,tt=Math.abs,sa=Math.atan,An=Math.atan2,rt=Math.cos,Ph=Math.exp,Ih=Math.log,it=Math.sin,Dh=Math.sign||function(t){return t>0?1:t<0?-1:0},Pe=Math.sqrt,zh=Math.tan;function Oh(t){return t>1?0:t<-1?X:Math.acos(t)}function kn(t){return t>1?gt:t<-1?-gt:Math.asin(t)}function Pt(){}function _r(t,e){t&&Co.hasOwnProperty(t.type)&&Co[t.type](t,e)}var $o={Feature:function(t,e){_r(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)_r(n[r].geometry,e)}},Co={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){di(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)di(n[r],e,0)},Polygon:function(t,e){Po(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Po(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)_r(n[r],e)}};function di(t,e,n){var r=-1,i=t.length-n,o;for(e.lineStart();++r<i;)o=t[r],e.point(o[0],o[1],o[2]);e.lineEnd()}function Po(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)di(t[n],e,1);e.polygonEnd()}function ze(t,e){t&&$o.hasOwnProperty(t.type)?$o[t.type](t,e):_r(t,e)}function _i(t){return[An(t[1],t[0]),kn(t[2])]}function Ge(t){var e=t[0],n=t[1],r=rt(n);return[r*rt(e),r*it(e),it(n)]}function Un(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function pr(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Yr(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Wn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function pi(t){var e=Pe(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function vi(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function gi(t,e){return tt(t)>X&&(t-=Math.round(t/Tt)*Tt),[t,e]}gi.invert=gi;function aa(t,e,n){return(t%=Tt)?e||n?vi(Do(t),zo(e,n)):Do(t):e||n?zo(e,n):gi}function Io(t){return function(e,n){return e+=t,tt(e)>X&&(e-=Math.round(e/Tt)*Tt),[e,n]}}function Do(t){var e=Io(t);return e.invert=Io(-t),e}function zo(t,e){var n=rt(t),r=it(t),i=rt(e),o=it(e);function s(a,u){var l=rt(u),f=rt(a)*l,h=it(a)*l,c=it(u),d=c*n+f*r;return[An(h*i-d*o,f*n-c*r),kn(d*i+h*o)]}return s.invert=function(a,u){var l=rt(u),f=rt(a)*l,h=it(a)*l,c=it(u),d=c*i-h*o;return[An(h*i+c*o,f*n+d*r),kn(d*n-f*r)]},s}function Fh(t){t=aa(t[0]*st,t[1]*st,t.length>2?t[2]*st:0);function e(n){return n=t(n[0]*st,n[1]*st),n[0]*=Et,n[1]*=Et,n}return e.invert=function(n){return n=t.invert(n[0]*st,n[1]*st),n[0]*=Et,n[1]*=Et,n},e}function Lh(t,e,n,r,i,o){if(n){var s=rt(e),a=it(e),u=r*n;i==null?(i=e+r*Tt,o=e-u/2):(i=Oo(s,i),o=Oo(s,o),(r>0?i<o:i>o)&&(i+=r*Tt));for(var l,f=i;r>0?f>o:f<o;f-=u)l=_i([s,-a*rt(f),-a*it(f)]),t.point(l[0],l[1])}}function Oo(t,e){e=Ge(e),e[0]-=t,pi(e);var n=Oh(-e[1]);return((-e[2]<0?-n:n)+Tt-Z)%Tt}function ua(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:Pt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function ir(t,e){return tt(t[0]-e[0])<Z&&tt(t[1]-e[1])<Z}function Gn(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function la(t,e,n,r,i){var o=[],s=[],a,u;if(t.forEach(function(v){if(!((x=v.length-1)<=0)){var x,b=v[0],w=v[x],y;if(ir(b,w)){if(!b[2]&&!w[2]){for(i.lineStart(),a=0;a<x;++a)i.point((b=v[a])[0],b[1]);i.lineEnd();return}w[0]+=2*Z}o.push(y=new Gn(b,v,null,!0)),s.push(y.o=new Gn(b,null,y,!1)),o.push(y=new Gn(w,v,null,!1)),s.push(y.o=new Gn(w,null,y,!0))}}),!!o.length){for(s.sort(e),Fo(o),Fo(s),a=0,u=s.length;a<u;++a)s[a].e=n=!n;for(var l=o[0],f,h;;){for(var c=l,d=!0;c.v;)if((c=c.n)===l)return;f=c.z,i.lineStart();do{if(c.v=c.o.v=!0,c.e){if(d)for(a=0,u=f.length;a<u;++a)i.point((h=f[a])[0],h[1]);else r(c.x,c.n.x,1,i);c=c.n}else{if(d)for(f=c.p.z,a=f.length-1;a>=0;--a)i.point((h=f[a])[0],h[1]);else r(c.x,c.p.x,-1,i);c=c.p}c=c.o,f=c.z,d=!d}while(!c.v);i.lineEnd()}}}function Fo(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Xr(t){return tt(t[0])<=X?t[0]:Dh(t[0])*((tt(t[0])+X)%Tt-X)}function qh(t,e){var n=Xr(e),r=e[1],i=it(r),o=[it(n),-rt(n),0],s=0,a=0,u=new Me;i===1?r=gt+Z:i===-1&&(r=-gt-Z);for(var l=0,f=t.length;l<f;++l)if(c=(h=t[l]).length)for(var h,c,d=h[c-1],v=Xr(d),x=d[1]/2+To,b=it(x),w=rt(x),y=0;y<c;++y,v=A,b=k,w=I,d=S){var S=h[y],A=Xr(S),E=S[1]/2+To,k=it(E),I=rt(E),z=A-v,D=z>=0?1:-1,O=D*z,M=O>X,V=b*k;if(u.add(An(V*D*it(O),w*I+V*rt(O))),s+=M?z+D*Tt:z,M^v>=n^A>=n){var B=pr(Ge(d),Ge(S));pi(B);var _=pr(o,B);pi(_);var p=(M^z>=0?-1:1)*kn(_[2]);(r>p||r===p&&(B[0]||B[1]))&&(a+=M^z>=0?1:-1)}}return(s<-Z||s<Z&&u<-1e-12)^a&1}function fa(t,e,n,r){return function(i){var o=e(i),s=ua(),a=e(s),u=!1,l,f,h,c={point:d,lineStart:x,lineEnd:b,polygonStart:function(){c.point=w,c.lineStart=y,c.lineEnd=S,f=[],l=[]},polygonEnd:function(){c.point=d,c.lineStart=x,c.lineEnd=b,f=Is(f);var A=qh(l,r);f.length?(u||(i.polygonStart(),u=!0),la(f,Vh,A,n,i)):A&&(u||(i.polygonStart(),u=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),f=l=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(A,E){t(A,E)&&i.point(A,E)}function v(A,E){o.point(A,E)}function x(){c.point=v,o.lineStart()}function b(){c.point=d,o.lineEnd()}function w(A,E){h.push([A,E]),a.point(A,E)}function y(){a.lineStart(),h=[]}function S(){w(h[0][0],h[0][1]),a.lineEnd();var A=a.clean(),E=s.result(),k,I=E.length,z,D,O;if(h.pop(),l.push(h),h=null,!!I){if(A&1){if(D=E[0],(z=D.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),k=0;k<z;++k)i.point((O=D[k])[0],O[1]);i.lineEnd()}return}I>1&&A&2&&E.push(E.pop().concat(E.shift())),f.push(E.filter(Bh))}}return c}}function Bh(t){return t.length>1}function Vh(t,e){return((t=t.x)[0]<0?t[1]-gt-Z:gt-t[1])-((e=e.x)[0]<0?e[1]-gt-Z:gt-e[1])}const Lo=fa(function(){return!0},Yh,Hh,[-X,-gt]);function Yh(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,s){var a=o>0?X:-X,u=tt(o-e);tt(u-X)<Z?(t.point(e,n=(n+s)/2>0?gt:-gt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(a,n),t.point(o,n),i=0):r!==a&&u>=X&&(tt(e-r)<Z&&(e-=r*Z),tt(o-a)<Z&&(o-=a*Z),n=Xh(e,n,o,s),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(a,n),i=0),t.point(e=o,n=s),r=a},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function Xh(t,e,n,r){var i,o,s=it(t-n);return tt(s)>Z?sa((it(e)*(o=rt(r))*it(n)-it(r)*(i=rt(e))*it(t))/(i*o*s)):(e+r)/2}function Hh(t,e,n,r){var i;if(t==null)i=n*gt,r.point(-X,i),r.point(0,i),r.point(X,i),r.point(X,0),r.point(X,-i),r.point(0,-i),r.point(-X,-i),r.point(-X,0),r.point(-X,i);else if(tt(t[0]-e[0])>Z){var o=t[0]<e[0]?X:-X;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function Uh(t){var e=rt(t),n=2*st,r=e>0,i=tt(e)>Z;function o(f,h,c,d){Lh(d,t,n,c,f,h)}function s(f,h){return rt(f)*rt(h)>e}function a(f){var h,c,d,v,x;return{lineStart:function(){v=d=!1,x=1},point:function(b,w){var y=[b,w],S,A=s(b,w),E=r?A?0:l(b,w):A?l(b+(b<0?X:-X),w):0;if(!h&&(v=d=A)&&f.lineStart(),A!==d&&(S=u(h,y),(!S||ir(h,S)||ir(y,S))&&(y[2]=1)),A!==d)x=0,A?(f.lineStart(),S=u(y,h),f.point(S[0],S[1])):(S=u(h,y),f.point(S[0],S[1],2),f.lineEnd()),h=S;else if(i&&h&&r^A){var k;!(E&c)&&(k=u(y,h,!0))&&(x=0,r?(f.lineStart(),f.point(k[0][0],k[0][1]),f.point(k[1][0],k[1][1]),f.lineEnd()):(f.point(k[1][0],k[1][1]),f.lineEnd(),f.lineStart(),f.point(k[0][0],k[0][1],3)))}A&&(!h||!ir(h,y))&&f.point(y[0],y[1]),h=y,d=A,c=E},lineEnd:function(){d&&f.lineEnd(),h=null},clean:function(){return x|(v&&d)<<1}}}function u(f,h,c){var d=Ge(f),v=Ge(h),x=[1,0,0],b=pr(d,v),w=Un(b,b),y=b[0],S=w-y*y;if(!S)return!c&&f;var A=e*w/S,E=-e*y/S,k=pr(x,b),I=Wn(x,A),z=Wn(b,E);Yr(I,z);var D=k,O=Un(I,D),M=Un(D,D),V=O*O-M*(Un(I,I)-1);if(!(V<0)){var B=Pe(V),_=Wn(D,(-O-B)/M);if(Yr(_,I),_=_i(_),!c)return _;var p=f[0],g=h[0],N=f[1],R=h[1],T;g<p&&(T=p,p=g,g=T);var $=g-p,C=tt($-X)<Z,L=C||$<Z;if(!C&&R<N&&(T=N,N=R,R=T),L?C?N+R>0^_[1]<(tt(_[0]-p)<Z?N:R):N<=_[1]&&_[1]<=R:$>X^(p<=_[0]&&_[0]<=g)){var j=Wn(D,(-O+B)/M);return Yr(j,I),[_,_i(j)]}}}function l(f,h){var c=r?t:X-t,d=0;return f<-c?d|=1:f>c&&(d|=2),h<-c?d|=4:h>c&&(d|=8),d}return fa(s,a,o,r?[0,-t]:[-X,t-X])}function Wh(t,e,n,r,i,o){var s=t[0],a=t[1],u=e[0],l=e[1],f=0,h=1,c=u-s,d=l-a,v;if(v=n-s,!(!c&&v>0)){if(v/=c,c<0){if(v<f)return;v<h&&(h=v)}else if(c>0){if(v>h)return;v>f&&(f=v)}if(v=i-s,!(!c&&v<0)){if(v/=c,c<0){if(v>h)return;v>f&&(f=v)}else if(c>0){if(v<f)return;v<h&&(h=v)}if(v=r-a,!(!d&&v>0)){if(v/=d,d<0){if(v<f)return;v<h&&(h=v)}else if(d>0){if(v>h)return;v>f&&(f=v)}if(v=o-a,!(!d&&v<0)){if(v/=d,d<0){if(v>h)return;v>f&&(f=v)}else if(d>0){if(v<f)return;v<h&&(h=v)}return f>0&&(t[0]=s+f*c,t[1]=a+f*d),h<1&&(e[0]=s+h*c,e[1]=a+h*d),!0}}}}}var an=1e9,jn=-an;function Gh(t,e,n,r){function i(l,f){return t<=l&&l<=n&&e<=f&&f<=r}function o(l,f,h,c){var d=0,v=0;if(l==null||(d=s(l,h))!==(v=s(f,h))||u(l,f)<0^h>0)do c.point(d===0||d===3?t:n,d>1?r:e);while((d=(d+h+4)%4)!==v);else c.point(f[0],f[1])}function s(l,f){return tt(l[0]-t)<Z?f>0?0:3:tt(l[0]-n)<Z?f>0?2:1:tt(l[1]-e)<Z?f>0?1:0:f>0?3:2}function a(l,f){return u(l.x,f.x)}function u(l,f){var h=s(l,1),c=s(f,1);return h!==c?h-c:h===0?f[1]-l[1]:h===1?l[0]-f[0]:h===2?l[1]-f[1]:f[0]-l[0]}return function(l){var f=l,h=ua(),c,d,v,x,b,w,y,S,A,E,k,I={point:z,lineStart:V,lineEnd:B,polygonStart:O,polygonEnd:M};function z(p,g){i(p,g)&&f.point(p,g)}function D(){for(var p=0,g=0,N=d.length;g<N;++g)for(var R=d[g],T=1,$=R.length,C=R[0],L,j,U=C[0],nt=C[1];T<$;++T)L=U,j=nt,C=R[T],U=C[0],nt=C[1],j<=r?nt>r&&(U-L)*(r-j)>(nt-j)*(t-L)&&++p:nt<=r&&(U-L)*(r-j)<(nt-j)*(t-L)&&--p;return p}function O(){f=h,c=[],d=[],k=!0}function M(){var p=D(),g=k&&p,N=(c=Is(c)).length;(g||N)&&(l.polygonStart(),g&&(l.lineStart(),o(null,null,1,l),l.lineEnd()),N&&la(c,a,p,o,l),l.polygonEnd()),f=l,c=d=v=null}function V(){I.point=_,d&&d.push(v=[]),E=!0,A=!1,y=S=NaN}function B(){c&&(_(x,b),w&&A&&h.rejoin(),c.push(h.result())),I.point=z,A&&f.lineEnd()}function _(p,g){var N=i(p,g);if(d&&v.push([p,g]),E)x=p,b=g,w=N,E=!1,N&&(f.lineStart(),f.point(p,g));else if(N&&A)f.point(p,g);else{var R=[y=Math.max(jn,Math.min(an,y)),S=Math.max(jn,Math.min(an,S))],T=[p=Math.max(jn,Math.min(an,p)),g=Math.max(jn,Math.min(an,g))];Wh(R,T,t,e,n,r)?(A||(f.lineStart(),f.point(R[0],R[1])),f.point(T[0],T[1]),N||f.lineEnd(),k=!1):N&&(f.lineStart(),f.point(p,g),k=!1)}y=p,S=g,A=N}return I}}const mi=t=>t;var Hr=new Me,wi=new Me,ca,ha,yi,bi,re={point:Pt,lineStart:Pt,lineEnd:Pt,polygonStart:function(){re.lineStart=jh,re.lineEnd=Zh},polygonEnd:function(){re.lineStart=re.lineEnd=re.point=Pt,Hr.add(tt(wi)),wi=new Me},result:function(){var t=Hr/2;return Hr=new Me,t}};function jh(){re.point=Kh}function Kh(t,e){re.point=da,ca=yi=t,ha=bi=e}function da(t,e){wi.add(bi*t-yi*e),yi=t,bi=e}function Zh(){da(ca,ha)}var je=1/0,vr=je,Mn=-je,gr=Mn,mr={point:Qh,lineStart:Pt,lineEnd:Pt,polygonStart:Pt,polygonEnd:Pt,result:function(){var t=[[je,vr],[Mn,gr]];return Mn=gr=-(vr=je=1/0),t}};function Qh(t,e){t<je&&(je=t),t>Mn&&(Mn=t),e<vr&&(vr=e),e>gr&&(gr=e)}var xi=0,Ei=0,un=0,wr=0,yr=0,qe=0,Si=0,Ni=0,ln=0,_a,pa,Vt,Yt,Ct={point:Te,lineStart:qo,lineEnd:Bo,polygonStart:function(){Ct.lineStart=ed,Ct.lineEnd=nd},polygonEnd:function(){Ct.point=Te,Ct.lineStart=qo,Ct.lineEnd=Bo},result:function(){var t=ln?[Si/ln,Ni/ln]:qe?[wr/qe,yr/qe]:un?[xi/un,Ei/un]:[NaN,NaN];return xi=Ei=un=wr=yr=qe=Si=Ni=ln=0,t}};function Te(t,e){xi+=t,Ei+=e,++un}function qo(){Ct.point=Jh}function Jh(t,e){Ct.point=td,Te(Vt=t,Yt=e)}function td(t,e){var n=t-Vt,r=e-Yt,i=Pe(n*n+r*r);wr+=i*(Vt+t)/2,yr+=i*(Yt+e)/2,qe+=i,Te(Vt=t,Yt=e)}function Bo(){Ct.point=Te}function ed(){Ct.point=rd}function nd(){va(_a,pa)}function rd(t,e){Ct.point=va,Te(_a=Vt=t,pa=Yt=e)}function va(t,e){var n=t-Vt,r=e-Yt,i=Pe(n*n+r*r);wr+=i*(Vt+t)/2,yr+=i*(Yt+e)/2,qe+=i,i=Yt*t-Vt*e,Si+=i*(Vt+t),Ni+=i*(Yt+e),ln+=i*3,Te(Vt=t,Yt=e)}function ga(t){this._context=t}ga.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Tt);break}}},result:Pt};var Ai=new Me,Ur,ma,wa,fn,cn,Rn={point:Pt,lineStart:function(){Rn.point=id},lineEnd:function(){Ur&&ya(ma,wa),Rn.point=Pt},polygonStart:function(){Ur=!0},polygonEnd:function(){Ur=null},result:function(){var t=+Ai;return Ai=new Me,t}};function id(t,e){Rn.point=ya,ma=fn=t,wa=cn=e}function ya(t,e){fn-=t,cn-=e,Ai.add(Pe(fn*fn+cn*cn)),fn=t,cn=e}let Vo,br,Yo,Xo;class Ho{constructor(e){this._append=e==null?ba:od(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==Yo||this._append!==br){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Yo=r,br=this._append,Xo=this._,this._=i}this._+=Xo;break}}}result(){const e=this._;return this._="",e.length?e:null}}function ba(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function od(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return ba;if(e!==Vo){const n=10**e;Vo=e,br=function(i){let o=1;this._+=i[0];for(const s=i.length;o<s;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return br}function sd(t,e){let n=3,r=4.5,i,o;function s(a){return a&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),ze(a,i(o))),o.result()}return s.area=function(a){return ze(a,i(re)),re.result()},s.measure=function(a){return ze(a,i(Rn)),Rn.result()},s.bounds=function(a){return ze(a,i(mr)),mr.result()},s.centroid=function(a){return ze(a,i(Ct)),Ct.result()},s.projection=function(a){return arguments.length?(i=a==null?(t=null,mi):(t=a).stream,s):t},s.context=function(a){return arguments.length?(o=a==null?(e=null,new Ho(n)):new ga(e=a),typeof r!="function"&&o.pointRadius(r),s):e},s.pointRadius=function(a){return arguments.length?(r=typeof a=="function"?a:(o.pointRadius(+a),+a),s):r},s.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const u=Math.floor(a);if(!(u>=0))throw new RangeError(`invalid digits: ${a}`);n=u}return e===null&&(o=new Ho(n)),s},s.projection(t).digits(n).context(e)}function Ui(t){return function(e){var n=new ki;for(var r in t)n[r]=t[r];return n.stream=e,n}}function ki(){}ki.prototype={constructor:ki,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Wi(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),ze(n,t.stream(mr)),e(mr.result()),r!=null&&t.clipExtent(r),t}function xa(t,e,n){return Wi(t,function(r){var i=e[1][0]-e[0][0],o=e[1][1]-e[0][1],s=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),a=+e[0][0]+(i-s*(r[1][0]+r[0][0]))/2,u=+e[0][1]+(o-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([a,u])},n)}function ad(t,e,n){return xa(t,[[0,0],e],n)}function ud(t,e,n){return Wi(t,function(r){var i=+e,o=i/(r[1][0]-r[0][0]),s=(i-o*(r[1][0]+r[0][0]))/2,a=-o*r[0][1];t.scale(150*o).translate([s,a])},n)}function ld(t,e,n){return Wi(t,function(r){var i=+e,o=i/(r[1][1]-r[0][1]),s=-o*r[0][0],a=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([s,a])},n)}var Uo=16,fd=rt(30*st);function Wo(t,e){return+e?hd(t,e):cd(t)}function cd(t){return Ui({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function hd(t,e){function n(r,i,o,s,a,u,l,f,h,c,d,v,x,b){var w=l-r,y=f-i,S=w*w+y*y;if(S>4*e&&x--){var A=s+c,E=a+d,k=u+v,I=Pe(A*A+E*E+k*k),z=kn(k/=I),D=tt(tt(k)-1)<Z||tt(o-h)<Z?(o+h)/2:An(E,A),O=t(D,z),M=O[0],V=O[1],B=M-r,_=V-i,p=y*B-w*_;(p*p/S>e||tt((w*B+y*_)/S-.5)>.3||s*c+a*d+u*v<fd)&&(n(r,i,o,s,a,u,M,V,D,A/=I,E/=I,k,x,b),b.point(M,V),n(M,V,D,A,E,k,l,f,h,c,d,v,x,b))}}return function(r){var i,o,s,a,u,l,f,h,c,d,v,x,b={point:w,lineStart:y,lineEnd:A,polygonStart:function(){r.polygonStart(),b.lineStart=E},polygonEnd:function(){r.polygonEnd(),b.lineStart=y}};function w(z,D){z=t(z,D),r.point(z[0],z[1])}function y(){h=NaN,b.point=S,r.lineStart()}function S(z,D){var O=Ge([z,D]),M=t(z,D);n(h,c,f,d,v,x,h=M[0],c=M[1],f=z,d=O[0],v=O[1],x=O[2],Uo,r),r.point(h,c)}function A(){b.point=w,r.lineEnd()}function E(){y(),b.point=k,b.lineEnd=I}function k(z,D){S(i=z,D),o=h,s=c,a=d,u=v,l=x,b.point=S}function I(){n(h,c,f,d,v,x,o,s,i,a,u,l,Uo,r),b.lineEnd=A,A()}return b}}var dd=Ui({point:function(t,e){this.stream.point(t*st,e*st)}});function _d(t){return Ui({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function pd(t,e,n,r,i){function o(s,a){return s*=r,a*=i,[e+t*s,n-t*a]}return o.invert=function(s,a){return[(s-e)/t*r,(n-a)/t*i]},o}function Go(t,e,n,r,i,o){if(!o)return pd(t,e,n,r,i);var s=rt(o),a=it(o),u=s*t,l=a*t,f=s/t,h=a/t,c=(a*n-s*e)/t,d=(a*e+s*n)/t;function v(x,b){return x*=r,b*=i,[u*x-l*b+e,n-l*x-u*b]}return v.invert=function(x,b){return[r*(f*x-h*b+c),i*(d-h*x-f*b)]},v}function vd(t){return gd(function(){return t})()}function gd(t){var e,n=150,r=480,i=250,o=0,s=0,a=0,u=0,l=0,f,h=0,c=1,d=1,v=null,x=Lo,b=null,w,y,S,A=mi,E=.5,k,I,z,D,O;function M(p){return z(p[0]*st,p[1]*st)}function V(p){return p=z.invert(p[0],p[1]),p&&[p[0]*Et,p[1]*Et]}M.stream=function(p){return D&&O===p?D:D=dd(_d(f)(x(k(A(O=p)))))},M.preclip=function(p){return arguments.length?(x=p,v=void 0,_()):x},M.postclip=function(p){return arguments.length?(A=p,b=w=y=S=null,_()):A},M.clipAngle=function(p){return arguments.length?(x=+p?Uh(v=p*st):(v=null,Lo),_()):v*Et},M.clipExtent=function(p){return arguments.length?(A=p==null?(b=w=y=S=null,mi):Gh(b=+p[0][0],w=+p[0][1],y=+p[1][0],S=+p[1][1]),_()):b==null?null:[[b,w],[y,S]]},M.scale=function(p){return arguments.length?(n=+p,B()):n},M.translate=function(p){return arguments.length?(r=+p[0],i=+p[1],B()):[r,i]},M.center=function(p){return arguments.length?(o=p[0]%360*st,s=p[1]%360*st,B()):[o*Et,s*Et]},M.rotate=function(p){return arguments.length?(a=p[0]%360*st,u=p[1]%360*st,l=p.length>2?p[2]%360*st:0,B()):[a*Et,u*Et,l*Et]},M.angle=function(p){return arguments.length?(h=p%360*st,B()):h*Et},M.reflectX=function(p){return arguments.length?(c=p?-1:1,B()):c<0},M.reflectY=function(p){return arguments.length?(d=p?-1:1,B()):d<0},M.precision=function(p){return arguments.length?(k=Wo(I,E=p*p),_()):Pe(E)},M.fitExtent=function(p,g){return xa(M,p,g)},M.fitSize=function(p,g){return ad(M,p,g)},M.fitWidth=function(p,g){return ud(M,p,g)},M.fitHeight=function(p,g){return ld(M,p,g)};function B(){var p=Go(n,0,0,c,d,h).apply(null,e(o,s)),g=Go(n,r-p[0],i-p[1],c,d,h);return f=aa(a,u,l),I=vi(e,g),z=vi(f,I),k=Wo(I,E),_()}function _(){return D=O=null,M}return function(){return e=t.apply(this,arguments),M.invert=e.invert&&V,B()}}function Gi(t,e){return[t,Ih(zh((gt+e)/2))]}Gi.invert=function(t,e){return[t,2*sa(Ph(e))-gt]};function md(){return wd(Gi).scale(961/Tt)}function wd(t){var e=vd(t),n=e.center,r=e.scale,i=e.translate,o=e.clipExtent,s=null,a,u,l;e.scale=function(h){return arguments.length?(r(h),f()):r()},e.translate=function(h){return arguments.length?(i(h),f()):i()},e.center=function(h){return arguments.length?(n(h),f()):n()},e.clipExtent=function(h){return arguments.length?(h==null?s=a=u=l=null:(s=+h[0][0],a=+h[0][1],u=+h[1][0],l=+h[1][1]),f()):s==null?null:[[s,a],[u,l]]};function f(){var h=X*r(),c=e(Fh(e.rotate()).invert([0,0]));return o(s==null?[[c[0]-h,c[1]-h],[c[0]+h,c[1]+h]]:t===Gi?[[Math.max(c[0]-h,s),a],[Math.min(c[0]+h,u),l]]:[[s,Math.max(c[1]-h,a)],[u,Math.min(c[1]+h,l)]])}return f()}const Kn=t=>()=>t;function yd(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function ie(t,e,n){this.k=t,this.x=e,this.y=n}ie.prototype={constructor:ie,scale:function(t){return t===1?this:new ie(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ie(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var xr=new ie(1,0,0);ie.prototype;function Wr(t){t.stopImmediatePropagation()}function nn(t){t.preventDefault(),t.stopImmediatePropagation()}function bd(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function xd(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function jo(){return this.__zoom||xr}function Ed(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Sd(){return navigator.maxTouchPoints||"ontouchstart"in this}function Nd(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function Ad(){var t=bd,e=xd,n=Nd,r=Ed,i=Sd,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,u=bc,l=Li("start","zoom","end"),f,h,c,d=500,v=150,x=0,b=10;function w(_){_.property("__zoom",jo).on("wheel.zoom",z,{passive:!1}).on("mousedown.zoom",D).on("dblclick.zoom",O).filter(i).on("touchstart.zoom",M).on("touchmove.zoom",V).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(_,p,g,N){var R=_.selection?_.selection():_;R.property("__zoom",jo),_!==R?E(_,p,g,N):R.interrupt().each(function(){k(this,arguments).event(N).start().zoom(null,typeof p=="function"?p.apply(this,arguments):p).end()})},w.scaleBy=function(_,p,g,N){w.scaleTo(_,function(){var R=this.__zoom.k,T=typeof p=="function"?p.apply(this,arguments):p;return R*T},g,N)},w.scaleTo=function(_,p,g,N){w.transform(_,function(){var R=e.apply(this,arguments),T=this.__zoom,$=g==null?A(R):typeof g=="function"?g.apply(this,arguments):g,C=T.invert($),L=typeof p=="function"?p.apply(this,arguments):p;return n(S(y(T,L),$,C),R,s)},g,N)},w.translateBy=function(_,p,g,N){w.transform(_,function(){return n(this.__zoom.translate(typeof p=="function"?p.apply(this,arguments):p,typeof g=="function"?g.apply(this,arguments):g),e.apply(this,arguments),s)},null,N)},w.translateTo=function(_,p,g,N,R){w.transform(_,function(){var T=e.apply(this,arguments),$=this.__zoom,C=N==null?A(T):typeof N=="function"?N.apply(this,arguments):N;return n(xr.translate(C[0],C[1]).scale($.k).translate(typeof p=="function"?-p.apply(this,arguments):-p,typeof g=="function"?-g.apply(this,arguments):-g),T,s)},N,R)};function y(_,p){return p=Math.max(o[0],Math.min(o[1],p)),p===_.k?_:new ie(p,_.x,_.y)}function S(_,p,g){var N=p[0]-g[0]*_.k,R=p[1]-g[1]*_.k;return N===_.x&&R===_.y?_:new ie(_.k,N,R)}function A(_){return[(+_[0][0]+ +_[1][0])/2,(+_[0][1]+ +_[1][1])/2]}function E(_,p,g,N){_.on("start.zoom",function(){k(this,arguments).event(N).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(N).end()}).tween("zoom",function(){var R=this,T=arguments,$=k(R,T).event(N),C=e.apply(R,T),L=g==null?A(C):typeof g=="function"?g.apply(R,T):g,j=Math.max(C[1][0]-C[0][0],C[1][1]-C[0][1]),U=R.__zoom,nt=typeof p=="function"?p.apply(R,T):p,It=u(U.invert(L).concat(j/U.k),nt.invert(L).concat(j/nt.k));return function(wt){if(wt===1)wt=nt;else{var Dt=It(wt),Je=j/Dt[2];wt=new ie(Je,L[0]-Dt[0]*Je,L[1]-Dt[1]*Je)}$.zoom(null,wt)}})}function k(_,p,g){return!g&&_.__zooming||new I(_,p)}function I(_,p){this.that=_,this.args=p,this.active=0,this.sourceEvent=null,this.extent=e.apply(_,p),this.taps=0}I.prototype={event:function(_){return _&&(this.sourceEvent=_),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(_,p){return this.mouse&&_!=="mouse"&&(this.mouse[1]=p.invert(this.mouse[0])),this.touch0&&_!=="touch"&&(this.touch0[1]=p.invert(this.touch0[0])),this.touch1&&_!=="touch"&&(this.touch1[1]=p.invert(this.touch1[0])),this.that.__zoom=p,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(_){var p=Nt(this.that).datum();l.call(_,this.that,new yd(_,{sourceEvent:this.sourceEvent,target:w,transform:this.that.__zoom,dispatch:l}),p)}};function z(_,...p){if(!t.apply(this,arguments))return;var g=k(this,p).event(_),N=this.__zoom,R=Math.max(o[0],Math.min(o[1],N.k*Math.pow(2,r.apply(this,arguments)))),T=we(_);if(g.wheel)(g.mouse[0][0]!==T[0]||g.mouse[0][1]!==T[1])&&(g.mouse[1]=N.invert(g.mouse[0]=T)),clearTimeout(g.wheel);else{if(N.k===R)return;g.mouse=[T,N.invert(T)],rr(this),g.start()}nn(_),g.wheel=setTimeout($,v),g.zoom("mouse",n(S(y(N,R),g.mouse[0],g.mouse[1]),g.extent,s));function $(){g.wheel=null,g.end()}}function D(_,...p){if(c||!t.apply(this,arguments))return;var g=_.currentTarget,N=k(this,p,!0).event(_),R=Nt(_.view).on("mousemove.zoom",L,!0).on("mouseup.zoom",j,!0),T=we(_,g),$=_.clientX,C=_.clientY;Gf(_.view),Wr(_),N.mouse=[T,this.__zoom.invert(T)],rr(this),N.start();function L(U){if(nn(U),!N.moved){var nt=U.clientX-$,It=U.clientY-C;N.moved=nt*nt+It*It>x}N.event(U).zoom("mouse",n(S(N.that.__zoom,N.mouse[0]=we(U,g),N.mouse[1]),N.extent,s))}function j(U){R.on("mousemove.zoom mouseup.zoom",null),jf(U.view,N.moved),nn(U),N.event(U).end()}}function O(_,...p){if(t.apply(this,arguments)){var g=this.__zoom,N=we(_.changedTouches?_.changedTouches[0]:_,this),R=g.invert(N),T=g.k*(_.shiftKey?.5:2),$=n(S(y(g,T),N,R),e.apply(this,p),s);nn(_),a>0?Nt(this).transition().duration(a).call(E,$,N,_):Nt(this).call(w.transform,$,N,_)}}function M(_,...p){if(t.apply(this,arguments)){var g=_.touches,N=g.length,R=k(this,p,_.changedTouches.length===N).event(_),T,$,C,L;for(Wr(_),$=0;$<N;++$)C=g[$],L=we(C,this),L=[L,this.__zoom.invert(L),C.identifier],R.touch0?!R.touch1&&R.touch0[2]!==L[2]&&(R.touch1=L,R.taps=0):(R.touch0=L,T=!0,R.taps=1+!!f);f&&(f=clearTimeout(f)),T&&(R.taps<2&&(h=L[0],f=setTimeout(function(){f=null},d)),rr(this),R.start())}}function V(_,...p){if(this.__zooming){var g=k(this,p).event(_),N=_.changedTouches,R=N.length,T,$,C,L;for(nn(_),T=0;T<R;++T)$=N[T],C=we($,this),g.touch0&&g.touch0[2]===$.identifier?g.touch0[0]=C:g.touch1&&g.touch1[2]===$.identifier&&(g.touch1[0]=C);if($=g.that.__zoom,g.touch1){var j=g.touch0[0],U=g.touch0[1],nt=g.touch1[0],It=g.touch1[1],wt=(wt=nt[0]-j[0])*wt+(wt=nt[1]-j[1])*wt,Dt=(Dt=It[0]-U[0])*Dt+(Dt=It[1]-U[1])*Dt;$=y($,Math.sqrt(wt/Dt)),C=[(j[0]+nt[0])/2,(j[1]+nt[1])/2],L=[(U[0]+It[0])/2,(U[1]+It[1])/2]}else if(g.touch0)C=g.touch0[0],L=g.touch0[1];else return;g.zoom("touch",n(S($,C,L),g.extent,s))}}function B(_,...p){if(this.__zooming){var g=k(this,p).event(_),N=_.changedTouches,R=N.length,T,$;for(Wr(_),c&&clearTimeout(c),c=setTimeout(function(){c=null},d),T=0;T<R;++T)$=N[T],g.touch0&&g.touch0[2]===$.identifier?delete g.touch0:g.touch1&&g.touch1[2]===$.identifier&&delete g.touch1;if(g.touch1&&!g.touch0&&(g.touch0=g.touch1,delete g.touch1),g.touch0)g.touch0[1]=this.__zoom.invert(g.touch0[0]);else if(g.end(),g.taps===2&&($=we($,this),Math.hypot(h[0]-$[0],h[1]-$[1])<b)){var C=Nt(this).on("dblclick.zoom");C&&C.apply(this,arguments)}}}return w.wheelDelta=function(_){return arguments.length?(r=typeof _=="function"?_:Kn(+_),w):r},w.filter=function(_){return arguments.length?(t=typeof _=="function"?_:Kn(!!_),w):t},w.touchable=function(_){return arguments.length?(i=typeof _=="function"?_:Kn(!!_),w):i},w.extent=function(_){return arguments.length?(e=typeof _=="function"?_:Kn([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),w):e},w.scaleExtent=function(_){return arguments.length?(o[0]=+_[0],o[1]=+_[1],w):[o[0],o[1]]},w.translateExtent=function(_){return arguments.length?(s[0][0]=+_[0][0],s[1][0]=+_[1][0],s[0][1]=+_[0][1],s[1][1]=+_[1][1],w):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},w.constrain=function(_){return arguments.length?(n=_,w):n},w.duration=function(_){return arguments.length?(a=+_,w):a},w.interpolate=function(_){return arguments.length?(u=_,w):u},w.on=function(){var _=l.on.apply(l,arguments);return _===l?w:_},w.clickDistance=function(_){return arguments.length?(x=(_=+_)*_,w):Math.sqrt(x)},w.tapDistance=function(_){return arguments.length?(b=+_,w):b},w}var kd=Zt("<div><!></div>");function Md(t,e){Tn(e,!1);let n=ut(e,"content",8,""),r=ut(e,"visible",8,!1),i=ut(e,"x",8,0),o=ut(e,"y",8,0),s=J(!1);function a(){r()||P(s,!1)}St(()=>G(r()),()=>{r()&&P(s,!0)}),$r();var u=$s(),l=Di(u);{var f=h=>{var c=kd();let d;var v=F(c);Zu(v,n),Bt(()=>{d=tl(c,1,"tooltip-container svelte-sj99h3",null,d,{"opacity-100":r(),"opacity-0":!r(),"translate-y-0":r(),"translate-y-2":!r()}),ri(c,`left: ${i()??""}px; top: ${o()??""}px;`)}),ni("transitionend",c,a),xt(h,c)};ye(l,h=>{m(s)&&h(f)})}xt(t,u),$n()}var Rd=Uu('<svg class="w-full h-full block rounded-xl shadow-sm border border-gray-200 bg-white"></svg><!>',1);function Td(t,e){Tn(e,!1);let n=ut(e,"graph",8),r=ut(e,"geojson",8),i=ut(e,"startNode",8,null),o=ut(e,"endNode",8,null),s=ut(e,"pathResult",24,()=>[]),a=ut(e,"visitedNodes",24,()=>[]);const u=Ps();function l(M=50){if(!a().length)return;const V=[];let B=0;const _=async()=>{B<a().length?(V.push(a()[B]),A(V),B++,setTimeout(_,M)):s().length>0&&A(a())};_()}let f=J(),h,c,d=J(""),v=J(0),x=J(0),b=J(!1),w;const y={background:"#f8fafc",default:"#113",border:"#ddd",start:"#059669",end:"#dc2626",path:"#d97706",visited:"#2563eb",text:"#1e293b"};function S(){n()&&r()&&m(f)&&A(a())}function A(M=[]){if(!n()||!r()||!m(f))return;const{width:V,height:B}=m(f).getBoundingClientRect();if(V===0||B===0)return;Nt(m(f)).selectAll("*").remove();const _=Nt(m(f)).attr("viewBox","0 0 900 800").attr("preserveAspectRatio","xMidYMid meet").style("background",y.background),p=_.append("g").attr("class","map-container");h=md().fitSize([V*.95,B*.95],r()),c=sd().projection(h),p.selectAll("path").data(r().features).join("path").attr("d",c).attr("stroke",y.border).attr("stroke-width",.8).attr("stroke-linejoin","round").attr("fill",$=>{const C=$.properties.GID_2;return C===i()?y.start:C===o()?y.end:s().includes(C)?y.path:M.includes(C)?y.visited:y.default}).attr("opacity",$=>{const C=$.properties.GID_2;return s().includes(C)||C===i()||C===o()?1:M.includes(C)?.9:.7}).style("cursor","pointer").style("transition","all 0.2s ease").on("click",($,C)=>{const L=C.properties.GID_2;console.log("Municipio seleccionado:",L,C.properties.NAME_2),u("click",L)}).on("mouseover",function($,C){const L=C.properties.GID_2;let j="No visitado",U="#64748b";L===i()?(j="Nodo de inicio",U="#059669"):L===o()?(j="Nodo destino",U="#dc2626"):s().includes(L)?(j="En camino Ã³ptimo",U="#d97706"):a().includes(L)&&(j="Nodo explorado",U="#2563eb"),Nt(this).attr("stroke-width",2).attr("stroke",U).attr("filter","url(#glow)"),P(d,`
                <div class="font-semibold text-gray-800 mb-1">${C.properties.NAME_2}</div>
                <div class="text-sm mb-2" style="color: ${U}; font-weight: 500">${j}</div>
                <div class="text-xs text-gray-500 border-t border-gray-100 pt-2">
                    <div>ID: <span class="font-mono">${C.properties.GID_2}</span></div>
                    <div class="mt-1">Haz clic para seleccionar</div>
                </div>
            `),P(b,!0)}).on("mousemove",$=>{P(v,$.pageX+15),P(x,$.pageY+15)}).on("mouseout",function(){Nt(this).attr("stroke-width",.8).attr("stroke",y.border).attr("filter",null),P(b,!1)});const N=_.append("defs").append("filter").attr("id","glow").attr("height","300%").attr("width","300%").attr("x","-100%").attr("y","-100%");N.append("feGaussianBlur").attr("stdDeviation","2").attr("result","coloredBlur");const R=N.append("feMerge");R.append("feMergeNode").attr("in","coloredBlur"),R.append("feMergeNode").attr("in","SourceGraphic"),E(p);const T=Ad().scaleExtent([1,12]).translateExtent([[0,0],[V,B]]).on("zoom",$=>{p.attr("transform",$.transform)});_.call(T).call(T.transform,xr),k(_,T,V)}function E(M,V,B){const _=M.append("g").attr("class","legend").attr("transform","translate(20, 20)"),p=[{color:y.start,text:"Nodo Inicio"},{color:y.end,text:"Nodo Destino"},{color:y.path,text:"Camino Ãptimo"},{color:y.visited,text:"Nodos Explorados"},{color:y.default,text:"No Visitado"}];p.forEach((g,N)=>{const R=_.append("g").attr("transform",`translate(0, ${N*25})`);R.append("rect").attr("width",16).attr("height",16).attr("fill",g.color).attr("rx",3).attr("stroke",y.border).attr("stroke-width",.5),R.append("text").attr("x",24).attr("y",12).attr("fill",y.text).attr("font-size","12px").attr("font-family","system-ui, sans-serif").text(g.text)}),_.insert("rect",":first-child").attr("width",180).attr("transform","translate(-30, -5)").attr("text-anchor","middle").attr("height",p.length*25).attr("fill","white").attr("opacity",.9).attr("rx",8).attr("stroke",y.border).attr("stroke-width",1)}function k(M,V,B,_){const p=M.append("g").attr("class","zoom-controls").attr("transform",`translate(${B-80}, 20)`);p.append("rect").attr("width",50).attr("height",80).attr("fill","white").attr("opacity",.9).attr("rx",8).attr("stroke",y.border).attr("stroke-width",1);const g=p.append("g").attr("transform","translate(10, 15)").style("cursor","pointer").on("click",()=>{M.transition().duration(250).call(V.scaleBy,1.5)});g.append("rect").attr("width",30).attr("height",25).attr("fill","transparent"),g.append("path").attr("d","M5,12 L25,12 M15,5 L15,19").attr("stroke",y.text).attr("stroke-width",2).attr("stroke-linecap","round");const N=p.append("g").attr("transform","translate(10, 45)").style("cursor","pointer").on("click",()=>{M.transition().duration(250).call(V.scaleBy,.75)});N.append("rect").attr("width",30).attr("height",25).attr("fill","transparent"),N.append("path").attr("d","M5,12 L25,12").attr("stroke",y.text).attr("stroke-width",2).attr("stroke-linecap","round");const R=p.append("g").attr("transform","translate(10, 75)").style("cursor","pointer").on("click",()=>{M.transition().duration(500).call(V.transform,xr)});R.append("rect").attr("width",30).attr("height",25).attr("fill","transparent"),R.append("path").attr("d","M8,8 L22,22 M22,8 L8,22").attr("stroke",y.text).attr("stroke-width",2).attr("stroke-linecap","round"),p.selectAll("g").on("mouseover",function(){Nt(this).select("path").attr("stroke",y.visited)}).on("mouseout",function(){Nt(this).select("path").attr("stroke",y.text)})}Fi(()=>{m(f)&&(w=new ResizeObserver(()=>{n()&&r()&&A(a())}),w.observe(m(f)))}),sl(()=>{w&&w.disconnect()}),St(()=>(G(n()),G(r()),m(f)),()=>{n()&&r()&&m(f)&&A()}),St(()=>G(i()),()=>{i(),S()}),St(()=>G(o()),()=>{o(),S()}),St(()=>G(s()),()=>{s(),S()}),$r();var I={animateVisited:l};Oi();var z=Rd(),D=Di(z);il(D,M=>P(f,M),()=>m(f));var O=Y(D);return Md(O,{get content(){return m(d)},get visible(){return m(b)},get x(){return m(v)},get y(){return m(x)}}),xt(t,z),rl(e,"animateVisited",l),$n(I)}var $d=Zt('<div class="text-xs text-blue-600 mt-2 flex items-center"><div class="w-2 h-2 bg-blue-500 rounded-full mr-2 animate-pulse"></div> <span>Algoritmo activo: <strong> </strong></span></div>'),Cd=Zt('<div class="flex items-center justify-center"><div class="w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"></div> </div>'),Pd=Zt('<div class="flex items-center justify-center"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg> </div>'),Id=Zt('<div class="mb-4 p-4 bg-green-50 rounded-lg border border-green-200"><div class="flex items-center mb-3"><svg class="w-5 h-5 text-green-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <h3 class="font-semibold text-green-800"> </h3></div> <div class="grid grid-cols-2 gap-3 text-sm"><div class="bg-white rounded p-2 border border-green-100"><div class="text-green-600 font-medium">Coste Total</div> <div class="text-green-800 font-mono text-lg svelte-181dlmc"> </div></div> <div class="bg-white rounded p-2 border border-green-100"><div class="text-green-600 font-medium">Longitud</div> <div class="text-green-800 font-mono text-lg svelte-181dlmc"> </div></div></div></div>'),Dd=Zt('<div class="mb-4 p-4 bg-yellow-50 rounded-lg border border-yellow-200"><div class="flex items-center mb-2"><svg class="w-5 h-5 text-yellow-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg> <h3 class="font-semibold text-yellow-800">Camino No Encontrado</h3></div> <p class="text-yellow-700 text-sm">El algoritmo no pudo encontrar una ruta entre los nodos seleccionados</p></div>'),zd=Zt('<div class="mt-3 pt-3 border-t border-gray-200"><div class="flex justify-between text-xs text-gray-600 mb-1"><span>Eficiencia del Algoritmo</span> <span> </span></div> <div class="w-full bg-gray-200 rounded-full h-2"><div class="bg-gradient-to-r from-green-400 to-green-500 h-2 rounded-full transition-all duration-500"></div></div></div>'),Od=Zt('<div class="p-4 bg-gradient-to-br from-gray-50 to-blue-50 rounded-lg border border-gray-200"><h3 class="font-medium text-gray-700 text-sm mb-3">MÃ©tricas de Rendimiento</h3> <div class="grid grid-cols-2 gap-4 text-xs"><div class="text-center"><div class="text-2xl font-bold text-blue-600 font-mono svelte-181dlmc"> </div> <div class="text-gray-500 mt-1">Nodos Explorados</div></div> <div class="text-center"><div class="text-2xl font-bold text-green-600 font-mono svelte-181dlmc"> </div> <div class="text-gray-500 mt-1">Camino Encontrado</div></div></div> <!></div>'),Fd=Zt('<div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 h-full overflow-y-auto"><div class="mb-6 pb-4 border-b border-gray-200"><h2 class="text-xl font-semibold text-gray-800">Panel de Control de Algoritmos</h2> <p class="text-sm text-gray-500 mt-1">VisualizaciÃ³n y ejecuciÃ³n de algoritmos de bÃºsqueda en grafos</p></div> <div class="mb-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-100"><div class="flex justify-between items-center text-sm text-blue-800 mb-2"><span class="font-medium"> </span> <span class="font-semibold"> </span></div> <div class="w-full bg-blue-100 rounded-full h-2.5"><div class="bg-gradient-to-r from-blue-500 to-indigo-600 h-2.5 rounded-full transition-all duration-500 ease-out"></div></div> <!></div> <div class="mb-6"><label class="block text-sm font-medium text-gray-700 mb-3">SelecciÃ³n de Algoritmo</label> <select class="w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors disabled:bg-gray-100 disabled:cursor-not-allowed"><option>A* Search Algorithm</option><option>Dijkstra Algorithm</option><option>Breadth-First Search</option><option>Depth-First Search</option></select> <p class="text-xs text-gray-500 mt-2 leading-relaxed"> </p></div> <div class="mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200"><h3 class="font-medium text-gray-700 text-sm mb-3">ConfiguraciÃ³n de Nodos</h3> <div class="space-y-2.5"><div class="flex items-center justify-between"><div class="flex items-center"><div class="w-3 h-3 bg-green-500 rounded-full mr-3"></div> <span class="text-sm text-gray-600">Nodo inicial</span></div> <span class="text-sm font-mono text-gray-800 bg-white px-2 py-1 rounded border svelte-181dlmc"> </span></div> <div class="flex items-center justify-between"><div class="flex items-center"><div class="w-3 h-3 bg-red-500 rounded-full mr-3"></div> <span class="text-sm text-gray-600">Nodo destino</span></div> <span class="text-sm font-mono text-gray-800 bg-white px-2 py-1 rounded border svelte-181dlmc"> </span></div></div></div> <div class="mb-6 space-y-3"><button class="w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white py-3 px-4 rounded-lg font-medium disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed transition-all duration-200 shadow-sm hover:shadow-md svelte-181dlmc"><!></button> <button class="w-full bg-white border border-gray-300 hover:bg-gray-50 text-gray-700 py-2.5 px-4 rounded-lg font-medium disabled:bg-gray-100 disabled:text-gray-400 disabled:cursor-not-allowed transition-colors duration-200 svelte-181dlmc"><div class="flex items-center justify-center"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg> Reiniciar ConfiguraciÃ³n</div></button></div> <!> <!></div>');function Ld(t,e){Tn(e,!1);const n=J(),r=J(),i=J(),o=J(),s=J();let a=ut(e,"pathResult",24,()=>[]),u=ut(e,"totalCost",8,0),l=ut(e,"visitedNodes",24,()=>[]),f=ut(e,"startNodeName",8,null),h=ut(e,"endNodeName",8,null),c=ut(e,"selectedAlgorithm",12,"a_star"),d=ut(e,"isRunning",8,!1);const v=Ps();function x(){v("runAlgorithm")}function b(){v("reset")}let w=J(0),y=J(0);function S(K){return{a_star:"A* Search",dijkstra:"Dijkstra",bfs:"BFS",dfs:"DFS"}[K]||K}St(()=>(G(d()),G(l()),G(a())),()=>{d()&&(P(w,l().length),P(y,Math.max(l().length,a().length)))}),St(()=>(m(y),m(w)),()=>{P(n,m(y)>0?m(w)/m(y)*100:0)}),St(()=>(G(d()),G(c()),G(l()),G(a())),()=>{P(r,d()?`Ejecutando ${S(c())} - ${l().length} nodos procesados`:a().length>0?`${S(c())} completado - ${a().length} pasos`:"Selecciona algoritmo y nodos para comenzar")}),St(()=>{},()=>{P(i,{a_star:"Algoritmo A* - Encuentra el camino mÃ¡s corto usando heurÃ­stica de distancia euclidiana",dijkstra:"Algoritmo de Dijkstra - Calcula el camino mÃ¡s corto considerando todos los pesos",bfs:"BÃºsqueda en Amplitud - Explora sistemÃ¡ticamente por niveles",dfs:"BÃºsqueda en Profundidad - Explora ramas completas antes de retroceder"})}),St(()=>(G(d()),G(c())),()=>{P(o,d()?"Procesando...":`Ejecutar ${S(c())}`)}),St(()=>(G(l()),G(a())),()=>{P(s,l().length>0&&a().length>0?(a().length/l().length*100).toFixed(1):0)}),$r(),Oi();var A=Fd(),E=Y(F(A),2),k=F(E),I=F(k),z=F(I),D=Y(I,2),O=F(D),M=Y(k,2),V=F(M),B=Y(M,2);{var _=K=>{var at=$d(),yt=Y(F(at),2),fe=Y(F(yt)),Jt=F(fe);Bt(me=>_t(Jt,me),[()=>(G(c()),ot(()=>S(c())))]),xt(K,at)};ye(B,K=>{d()&&K(_)})}var p=Y(E,2),g=Y(F(p),2);Bt(()=>{c(),zu(()=>{d()})});var N=F(g);N.value=N.__value="a_star";var R=Y(N);R.value=R.__value="dijkstra";var T=Y(R);T.value=T.__value="bfs";var $=Y(T);$.value=$.__value="dfs";var C=Y(g,2),L=F(C),j=Y(p,2),U=Y(F(j),2),nt=F(U),It=Y(F(nt),2),wt=F(It),Dt=Y(nt,2),Je=Y(F(Dt),2),Sa=F(Je),ji=Y(j,2),On=F(ji),Na=F(On);{var Aa=K=>{var at=Cd(),yt=Y(F(at));Bt(()=>_t(yt,` ${m(o)??""}`)),xt(K,at)},ka=K=>{var at=Pd(),yt=Y(F(at));Bt(()=>_t(yt,` ${m(o)??""}`)),xt(K,at)};ye(Na,K=>{d()?K(Aa):K(ka,!1)})}var Ki=Y(On,2),Zi=Y(ji,2);{var Ma=K=>{var at=Id(),yt=F(at),fe=Y(F(yt),2),Jt=F(fe),me=Y(yt,2),Fn=F(me),Or=Y(F(Fn),2),Fr=F(Or),Lr=Y(Fn,2),qr=Y(F(Lr),2),tn=F(qr);Bt((Ln,qn)=>{_t(Jt,`${Ln??""} - Resultados`),_t(Fr,qn),_t(tn,`${G(a()),ot(()=>a().length)??""} nodos`)},[()=>(G(c()),ot(()=>S(c()))),()=>(G(u()),ot(()=>u().toFixed(2)))]),xt(K,at)},Ra=K=>{var at=$s(),yt=Di(at);{var fe=Jt=>{var me=Dd();xt(Jt,me)};ye(yt,Jt=>{G(d()),G(l()),ot(()=>!d()&&l().length>0)&&Jt(fe)},!0)}xt(K,at)};ye(Zi,K=>{G(a()),ot(()=>a().length>0)?K(Ma):K(Ra,!1)})}var Ta=Y(Zi,2);{var $a=K=>{var at=Od(),yt=Y(F(at),2),fe=F(yt),Jt=F(fe),me=F(Jt),Fn=Y(fe,2),Or=F(Fn),Fr=F(Or),Lr=Y(yt,2);{var qr=tn=>{var Ln=zd(),qn=F(Ln),Ca=Y(F(qn),2),Pa=F(Ca),Ia=Y(qn,2),Da=F(Ia);Bt(()=>{_t(Pa,`${m(s)??""}%`),ri(Da,`width: ${m(s)??""}%`)}),xt(tn,Ln)};ye(Lr,tn=>{G(a()),ot(()=>a().length>0)&&tn(qr)})}Bt(()=>{_t(me,(G(l()),ot(()=>l().length))),_t(Fr,(G(a()),ot(()=>a().length)))}),xt(K,at)};ye(Ta,K=>{G(l()),ot(()=>l().length>0)&&K($a)})}Bt(K=>{_t(z,m(r)),_t(O,`${K??""}%`),ri(V,`width: ${m(n)??""}%`),g.disabled=d(),_t(L,(m(i),G(c()),ot(()=>m(i)[c()]))),_t(wt,f()||"No seleccionado"),_t(Sa,h()||"No seleccionado"),On.disabled=d()||!f()||c()!=="dijkstra"&&!h(),Ki.disabled=d()},[()=>(m(n),ot(()=>Math.round(m(n))))]),nl(g,c),ni("click",On,x),ni("click",Ki,b),xt(t,A),$n()}let q,hn=null;function vn(){return(hn===null||hn.byteLength===0)&&(hn=new Uint8Array(q.memory.buffer)),hn}let or=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});or.decode();const qd=2146435072;let Gr=0;function Bd(t,e){return Gr+=e,Gr>=qd&&(or=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),or.decode(),Gr=e),or.decode(vn().subarray(t,t+e))}function Zn(t,e){return t=t>>>0,Bd(t,e)}function Qn(t){return t==null}function Mi(t){const e=typeof t;if(e=="number"||e=="boolean"||t==null)return`${t}`;if(e=="string")return`"${t}"`;if(e=="symbol"){const i=t.description;return i==null?"Symbol":`Symbol(${i})`}if(e=="function"){const i=t.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(t)){const i=t.length;let o="[";i>0&&(o+=Mi(t[0]));for(let s=1;s<i;s++)o+=", "+Mi(t[s]);return o+="]",o}const n=/\[object ([^\]]+)\]/.exec(toString.call(t));let r;if(n&&n.length>1)r=n[1];else return toString.call(t);if(r=="Object")try{return"Object("+JSON.stringify(t)+")"}catch{return"Object"}return t instanceof Error?`${t.name}: ${t.message}
${t.stack}`:r}let Mt=0;const gn=new TextEncoder;"encodeInto"in gn||(gn.encodeInto=function(t,e){const n=gn.encode(t);return e.set(n),{read:t.length,written:n.length}});function Ft(t,e,n){if(n===void 0){const a=gn.encode(t),u=e(a.length,1)>>>0;return vn().subarray(u,u+a.length).set(a),Mt=a.length,u}let r=t.length,i=e(r,1)>>>0;const o=vn();let s=0;for(;s<r;s++){const a=t.charCodeAt(s);if(a>127)break;o[i+s]=a}if(s!==r){s!==0&&(t=t.slice(s)),i=n(i,r,r=s+t.length*3,1)>>>0;const a=vn().subarray(i+s,i+r),u=gn.encodeInto(t,a);s+=u.written,i=n(i,r,s,1)>>>0}return Mt=s,i}let be=null;function he(){return(be===null||be.buffer.detached===!0||be.buffer.detached===void 0&&be.buffer!==q.memory.buffer)&&(be=new DataView(q.memory.buffer)),be}function Vd(t){const e=q.__externref_table_alloc();return q.__wbindgen_externrefs.set(e,t),e}function jr(t,e){try{return t.apply(this,e)}catch(n){const r=Vd(n);q.__wbindgen_exn_store(r)}}function Yd(t,e){return t=t>>>0,vn().subarray(t/1,t/1+e)}function Xd(t,e,n){const r=Ft(t,q.__wbindgen_malloc,q.__wbindgen_realloc),i=Mt,o=Ft(e,q.__wbindgen_malloc,q.__wbindgen_realloc),s=Mt;return q.run_astar(r,i,o,s,n)}function Hd(t,e,n){const r=Ft(t,q.__wbindgen_malloc,q.__wbindgen_realloc),i=Mt,o=Ft(e,q.__wbindgen_malloc,q.__wbindgen_realloc),s=Mt;return q.run_bfs(r,i,o,s,n)}function Ud(t,e,n){const r=Ft(t,q.__wbindgen_malloc,q.__wbindgen_realloc),i=Mt,o=Ft(e,q.__wbindgen_malloc,q.__wbindgen_realloc),s=Mt;return q.run_dfs(r,i,o,s,n)}function Wd(t,e,n){const r=Ft(t,q.__wbindgen_malloc,q.__wbindgen_realloc),i=Mt,o=Ft(e,q.__wbindgen_malloc,q.__wbindgen_realloc),s=Mt;return q.run_dijkstra(r,i,o,s,n)}const Gd=new Set(["basic","cors","default"]);async function jd(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(r){if(t.ok&&Gd.has(t.type)&&t.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function Kd(){const t={};return t.wbg={},t.wbg.__wbg_Error_e83987f665cf5504=function(e,n){return Error(Zn(e,n))},t.wbg.__wbg___wbindgen_boolean_get_6d5a1ee65bab5f68=function(e){const n=e,r=typeof n=="boolean"?n:void 0;return Qn(r)?16777215:r?1:0},t.wbg.__wbg___wbindgen_debug_string_df47ffb5e35e6763=function(e,n){const r=Mi(n),i=Ft(r,q.__wbindgen_malloc,q.__wbindgen_realloc),o=Mt;he().setInt32(e+4,o,!0),he().setInt32(e+0,i,!0)},t.wbg.__wbg___wbindgen_in_bb933bd9e1b3bc0f=function(e,n){return e in n},t.wbg.__wbg___wbindgen_is_function_ee8a6c5833c90377=function(e){return typeof e=="function"},t.wbg.__wbg___wbindgen_is_object_c818261d21f283a4=function(e){const n=e;return typeof n=="object"&&n!==null},t.wbg.__wbg___wbindgen_is_string_fbb76cb2940daafd=function(e){return typeof e=="string"},t.wbg.__wbg___wbindgen_is_undefined_2d472862bd29a478=function(e){return e===void 0},t.wbg.__wbg___wbindgen_jsval_loose_eq_b664b38a2f582147=function(e,n){return e==n},t.wbg.__wbg___wbindgen_number_get_a20bf9b85341449d=function(e,n){const r=n,i=typeof r=="number"?r:void 0;he().setFloat64(e+8,Qn(i)?0:i,!0),he().setInt32(e+0,!Qn(i),!0)},t.wbg.__wbg___wbindgen_string_get_e4f06c90489ad01b=function(e,n){const r=n,i=typeof r=="string"?r:void 0;var o=Qn(i)?0:Ft(i,q.__wbindgen_malloc,q.__wbindgen_realloc),s=Mt;he().setInt32(e+4,s,!0),he().setInt32(e+0,o,!0)},t.wbg.__wbg___wbindgen_throw_b855445ff6a94295=function(e,n){throw new Error(Zn(e,n))},t.wbg.__wbg_call_e762c39fa8ea36bf=function(){return jr(function(e,n){return e.call(n)},arguments)},t.wbg.__wbg_done_2042aa2670fb1db1=function(e){return e.done},t.wbg.__wbg_error_7534b8e9a36f1ab4=function(e,n){let r,i;try{r=e,i=n,console.error(Zn(e,n))}finally{q.__wbindgen_free(r,i,1)}},t.wbg.__wbg_error_a7f8fbb0523dae15=function(e){console.error(e)},t.wbg.__wbg_get_7bed016f185add81=function(e,n){return e[n>>>0]},t.wbg.__wbg_get_efcb449f58ec27c2=function(){return jr(function(e,n){return Reflect.get(e,n)},arguments)},t.wbg.__wbg_get_with_ref_key_1dc361bd10053bfe=function(e,n){return e[n]},t.wbg.__wbg_instanceof_ArrayBuffer_70beb1189ca63b38=function(e){let n;try{n=e instanceof ArrayBuffer}catch{n=!1}return n},t.wbg.__wbg_instanceof_Uint8Array_20c8e73002f7af98=function(e){let n;try{n=e instanceof Uint8Array}catch{n=!1}return n},t.wbg.__wbg_isArray_96e0af9891d0945d=function(e){return Array.isArray(e)},t.wbg.__wbg_iterator_e5822695327a3c39=function(){return Symbol.iterator},t.wbg.__wbg_length_69bca3cb64fc8748=function(e){return e.length},t.wbg.__wbg_length_cdd215e10d9dd507=function(e){return e.length},t.wbg.__wbg_log_8cec76766b8c0e33=function(e){console.log(e)},t.wbg.__wbg_new_1acc0b6eea89d040=function(){return new Object},t.wbg.__wbg_new_5a79be3ab53b8aa5=function(e){return new Uint8Array(e)},t.wbg.__wbg_new_68651c719dcda04e=function(){return new Map},t.wbg.__wbg_new_8a6f238a6ece86ea=function(){return new Error},t.wbg.__wbg_new_e17d9f43105b08be=function(){return new Array},t.wbg.__wbg_next_020810e0ae8ebcb0=function(){return jr(function(e){return e.next()},arguments)},t.wbg.__wbg_next_2c826fe5dfec6b6a=function(e){return e.next},t.wbg.__wbg_prototypesetcall_2a6620b6922694b2=function(e,n,r){Uint8Array.prototype.set.call(Yd(e,n),r)},t.wbg.__wbg_set_3f1d0b984ed272ed=function(e,n,r){e[n]=r},t.wbg.__wbg_set_907fb406c34a251d=function(e,n,r){return e.set(n,r)},t.wbg.__wbg_set_c213c871859d6500=function(e,n,r){e[n>>>0]=r},t.wbg.__wbg_stack_0ed75d68575b0f3c=function(e,n){const r=n.stack,i=Ft(r,q.__wbindgen_malloc,q.__wbindgen_realloc),o=Mt;he().setInt32(e+4,o,!0),he().setInt32(e+0,i,!0)},t.wbg.__wbg_value_692627309814bb8c=function(e){return e.value},t.wbg.__wbindgen_cast_2241b6af4c4b2941=function(e,n){return Zn(e,n)},t.wbg.__wbindgen_cast_4625c577ab2ec9ee=function(e){return BigInt.asUintN(64,e)},t.wbg.__wbindgen_cast_9ae0607507abb057=function(e){return e},t.wbg.__wbindgen_cast_d6cd19b81560fd6e=function(e){return e},t.wbg.__wbindgen_init_externref_table=function(){const e=q.__wbindgen_externrefs,n=e.grow(4);e.set(0,void 0),e.set(n+0,void 0),e.set(n+1,null),e.set(n+2,!0),e.set(n+3,!1)},t}function Zd(t,e){return q=t.exports,Ea.__wbindgen_wasm_module=e,be=null,hn=null,q.__wbindgen_start(),q}async function Ea(t){if(q!==void 0)return q;typeof t<"u"&&(Object.getPrototypeOf(t)===Object.prototype?{module_or_path:t}=t:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof t>"u"&&(t=new URL("/nicaragraph/assets/nicaragua_graph_bg-CDTOYPsG.wasm",import.meta.url));const e=Kd();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:r}=await jd(await t,e);return Zd(n,r)}function Qd(t){if(!(t instanceof Map))return console.error("â Result is not a Map:",t),{path:[],visited:[],cost:0};const e=Array.isArray(t.get("path"))?t.get("path"):[],n=Array.isArray(t.get("visited"))?t.get("visited"):[],r=typeof t.get("cost")=="number"?t.get("cost"):0;return{path:e,visited:n,cost:r}}var Jd=Zt('<div class="grid grid-cols-[70%_30%] gap-4 h-[90vh] mt-5 items-center"><!> <!></div>');function t0(t,e){Tn(e,!1);const n=J(),r=J();let i=J(null),o=J(null),s=!1,a=J(null),u=J(null),l=J("a_star"),f=J([]),h=J([]),c=J(0),d=J(!1);Fi(async()=>{try{const[E,k]=await Promise.all([fetch("data/nicaragua_graph.json"),fetch("data/nicaragua_municipios_simplificado.geojson")]);P(i,await E.json()),P(o,await k.json()),await Ea(),s=!0}catch(E){console.error("Error loading data:",E)}});function v(E){const k=E.detail;m(d)||(m(a)?!m(u)&&k!==m(a)?P(u,k):(P(a,k),P(u,null),P(f,[]),P(h,[]),P(c,0)):P(a,k))}function x(E){return m(i)?.nodes?.find(k=>k.id===E)}async function b(){if(!s||!m(i)){console.error("â WASM or graph not initialized");return}if(!m(a)){console.error("â No start node selected");return}if((m(l)==="a_star"||m(l)==="bfs"||m(l)==="dfs"||m(l)==="dijkstra")&&!m(u)){console.error("â No end node selected for",m(l));return}if(!x(m(a))){console.error("â Start node not found in graph:",m(a));return}if(m(u)&&!x(m(u))){console.error("â End node not found in graph:",m(u));return}if(!m(d)){P(d,!0);try{P(f,[]),P(h,[]),P(c,0);let E;switch(m(l)){case"a_star":E=Xd(m(a),m(u),m(i));break;case"bfs":E=Hd(m(a),m(u),m(i));break;case"dfs":E=Ud(m(a),m(u),m(i));break;case"dijkstra":E=Wd(m(a),m(u),m(i));break;default:console.warn("â ï¸ Algorithm not implemented:",m(l)),P(d,!1);return}const{path:k,visited:I,cost:z}=Qd(E);if(I&&I.length>0){const D=[];for(let O=0;O<I.length;O++){D.push(I[O]),P(h,[...D]);const M=I.length>100?10:30,V=O<I.length*.8?M:M*2;await new Promise(B=>setTimeout(B,V))}if(await new Promise(O=>setTimeout(O,200)),k&&k.length>0){const O=[];for(let M=0;M<k.length;M++)O.push(k[M]),P(f,[...O]),await new Promise(V=>setTimeout(V,150))}}else P(f,k||[]);P(c,z||0)}catch(E){console.error("â Error running",m(l),":",E),console.error("Error details:",E.stack)}finally{P(d,!1)}}}function w(){P(a,null),P(u,null),P(f,[]),P(h,[]),P(c,0),P(d,!1)}St(()=>(m(a),m(i)),()=>{P(n,m(a)?m(i)?.nodes?.find(E=>E.id===m(a))?.name||m(i)?.nodes?.find(E=>E.id===m(a))?.NAME_2||m(a):null)}),St(()=>(m(u),m(i)),()=>{P(r,m(u)?m(i)?.nodes?.find(E=>E.id===m(u))?.name||m(i)?.nodes?.find(E=>E.id===m(u))?.NAME_2||m(u):null)}),$r(),Oi();var y=Jd(),S=F(y);Td(S,{get graph(){return m(i)},get geojson(){return m(o)},get startNode(){return m(a)},get endNode(){return m(u)},get pathResult(){return m(f)},get visitedNodes(){return m(h)},$$events:{click:v}});var A=Y(S,2);Ld(A,{get pathResult(){return m(f)},get totalCost(){return m(c)},get visitedNodes(){return m(h)},get startNodeName(){return m(n)},get endNodeName(){return m(r)},get isRunning(){return m(d)},get selectedAlgorithm(){return m(l)},set selectedAlgorithm(E){P(l,E)},$$events:{runAlgorithm:b,reset:w},$$legacy:!0}),xt(t,y),$n()}Wu(t0,{target:document.getElementById("app")});
